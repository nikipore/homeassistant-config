[{"id":"79ddab3e.2ca0c4","type":"tab","label":"Rolladensteuerung","disabled":false,"info":""},{"id":"9bf7fb6e.7aac88","type":"tab","label":"Beleuchtung","disabled":false,"info":""},{"id":"c82674e8.bd5658","type":"subflow","name":"Override: Position","info":"","category":"","in":[],"out":[{"x":800,"y":160,"wires":[{"id":"6d017920.9687a8","port":0},{"id":"94a1341d.2f84a8","port":0},{"id":"69a1f732.616898","port":0}]}],"env":[{"name":"INPUT_ENTITY","type":"str","value":""}],"meta":{},"color":"#DDAA99","status":{"x":420,"y":340,"wires":[{"id":"d8bff5fc.ce2998","port":0}]}},{"id":"a0992e23.0acf8","type":"server","name":"Home Assistant","version":1,"addon":true,"rejectUnauthorizedCerts":true,"ha_boolean":"y|yes|true|on|home|open","connectionDelay":true,"cacheJson":true},{"id":"8932bf10.56a6b","type":"mqtt-broker","name":"","broker":"core-mosquitto","port":"1883","clientid":"","usetls":false,"compatmode":false,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"a962ddc.fbff22","type":"position-config","name":"Kostheimer Landstraße 17, 55246 Mainz-Kostheim","isValide":"true","longitude":"0","latitude":"0","angleType":"deg","timeZoneOffset":"99","timeZoneDST":"0","stateTimeFormat":"3","stateDateFormat":"12"},{"id":"5fd6ad78.cfd8d4","type":"switch","z":"9bf7fb6e.7aac88","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"on-press","vt":"str"},{"t":"eq","v":"off-press","vt":"str"},{"t":"regex","v":"(on|off)-hold.*","vt":"str","case":false},{"t":"regex","v":"(up|down)-.*","vt":"str","case":false}],"checkall":"true","repair":false,"outputs":4,"x":550,"y":160,"wires":[["5db24814.bd8fa8"],["1ef1f9d9.5b3126"],["4d46e9f1.c2a218"],["ad5b53a3.6d03d"]]},{"id":"9bfc8ef6.375c6","type":"function","z":"9bf7fb6e.7aac88","name":"on-press","func":"const startup_scene = {brightness: 254, color_temp: 370};\nconst additional_scenes = [\n    {brightness: 254, color_temp: 156}, // energize\n    {brightness: 254, color_temp: 346}, // reading\n    {brightness: 77, color_temp: 367} // dimmed\n] || []; // && to exclude, || to include additional scenes\n\nconst scenes = [\n    startup_scene\n    , ...additional_scenes\n];\n\nvar payload = {state: \"ON\", transition: 0.5};\nif (msg.count > -1) {\n    Object.assign(\n        payload,\n        scenes[msg.count % scenes.length] // round robin\n    );\n}\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":120,"wires":[["336a8b4d.d56504"]]},{"id":"1ef1f9d9.5b3126","type":"function","z":"9bf7fb6e.7aac88","name":"off-press","func":"return {payload: {state: \"OFF\", transition: 0.5}};","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":160,"wires":[["336a8b4d.d56504"]]},{"id":"ad5b53a3.6d03d","type":"function","z":"9bf7fb6e.7aac88","name":"(up|down)-.*","func":"payload = {\n    \"up-press\": {brightness_step: 40, transition: 0.5},\n    \"down-press\": {brightness_step: -40, transition: 0.5},\n    \"up-hold\": {brightness_move: 80},\n    \"down-hold\": {brightness_move: -80},\n    \"up-hold-release\": {brightness_move: 0},\n    \"down-hold-release\": {brightness_move: 0}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":830,"y":240,"wires":[["336a8b4d.d56504"]]},{"id":"32a3414.7a5c0be","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"wohnzimmer-decke-dimmer","topic":"zigbee2mqtt/wohnzimmer-decke-dimmer/action","qos":"2","datatype":"auto","broker":"8932bf10.56a6b","x":340,"y":160,"wires":[["5fd6ad78.cfd8d4"]]},{"id":"336a8b4d.d56504","type":"mqtt out","z":"9bf7fb6e.7aac88","name":"group-wohnzimmer-decke","topic":"zigbee2mqtt/group-wohnzimmer-decke/set","qos":"","retain":"","broker":"8932bf10.56a6b","x":1140,"y":160,"wires":[]},{"id":"33d19d47.fbeea2","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"wohnzimmer-decke-1","topic":"zigbee2mqtt/wohnzimmer-decke-1","qos":"2","datatype":"json","broker":"8932bf10.56a6b","x":160,"y":40,"wires":[["7994956e.5d74cc"]]},{"id":"5db24814.bd8fa8","type":"counter","z":"9bf7fb6e.7aac88","name":"Counter","init":"-2","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":620,"y":40,"wires":[["aca5d059.c41b4"]]},{"id":"7994956e.5d74cc","type":"switch","z":"9bf7fb6e.7aac88","name":"OFF?","property":"payload.state","propertyType":"msg","rules":[{"t":"eq","v":"OFF","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":350,"y":40,"wires":[["8f4e7bc.3fb9d88"]]},{"id":"8f4e7bc.3fb9d88","type":"change","z":"9bf7fb6e.7aac88","name":"Reset","rules":[{"t":"set","p":"reset","pt":"msg","to":"-2","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":470,"y":40,"wires":[["5db24814.bd8fa8"]]},{"id":"aca5d059.c41b4","type":"switch","z":"9bf7fb6e.7aac88","name":"ON?","property":"count","propertyType":"msg","rules":[{"t":"gte","v":"-1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":750,"y":40,"wires":[["9bfc8ef6.375c6"]]},{"id":"4d46e9f1.c2a218","type":"function","z":"9bf7fb6e.7aac88","name":"(on|off)-hold.*","func":"payload = {\n    \"on-hold\": {color_temp_move: 60},\n    \"off-hold\": {color_temp_move: -60},\n    \"on-hold-release\": {color_temp_move: \"stop\"},\n    \"off-hold-release\": {color_temp_move: \"stop\"}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":840,"y":200,"wires":[["336a8b4d.d56504"]]},{"id":"d2b81a0c.fa4bd8","type":"switch","z":"9bf7fb6e.7aac88","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"on-press","vt":"str"},{"t":"eq","v":"off-press","vt":"str"},{"t":"regex","v":"(on|off)-hold.*","vt":"str","case":false},{"t":"regex","v":"(up|down)-.*","vt":"str","case":false}],"checkall":"true","repair":false,"outputs":4,"x":550,"y":820,"wires":[["7552153.4e951ec"],["4513a2f6.285aec"],["d82fe7f7.84eb18"],["e956b082.c755c"]]},{"id":"ed1d1058.9f5aa","type":"function","z":"9bf7fb6e.7aac88","name":"on-press","func":"const startup_scene = {brightness: 254, color_temp: 370};\nconst additional_scenes = [\n    {brightness: 254, color: {x: 0.314951744809611, y: 0.325010746064094}, color_temp: 346}, // activate\n    {brightness: 254, color: {x: 0.314951744809611, y: 0.325010746064094}, color_temp: 156}, // reading\n    {brightness: 213, color: {x:0.435684, y: 0.281409}, color_temp: 416}, // spring flowers\n    {brightness: 77, color :{x: 0.458227749642249, y: 0.410224893445347}, color_temp: 367} // dimmed\n] || []; // && to exclude, || to include additional scenes\n\nconst scenes = [\n    startup_scene\n    , ...additional_scenes\n];\n\nvar payload = {state: \"ON\", transition: 0.5};\nif (msg.count > -1) {\n    Object.assign(\n        payload,\n        scenes[msg.count % scenes.length] // round robin\n    );\n}\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":780,"wires":[["e91cbd9c.8a503"]]},{"id":"4513a2f6.285aec","type":"function","z":"9bf7fb6e.7aac88","name":"off-press","func":"return {payload: {state: \"OFF\", transition: 0.5}};","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":820,"wires":[["e91cbd9c.8a503"]]},{"id":"e956b082.c755c","type":"function","z":"9bf7fb6e.7aac88","name":"(up|down)-.*","func":"payload = {\n    \"up-press\": {brightness_step: 40, transition: 0.5},\n    \"down-press\": {brightness_step: -40, transition: 0.5},\n    \"up-hold\": {brightness_move: 80},\n    \"down-hold\": {brightness_move: -80},\n    \"up-hold-release\": {brightness_move: 0},\n    \"down-hold-release\": {brightness_move: 0}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":830,"y":900,"wires":[["e91cbd9c.8a503"]]},{"id":"ce73a8c4.9f65a8","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"schlafzimmer-dimmer","topic":"zigbee2mqtt/schlafzimmer-dimmer/action","qos":"2","datatype":"auto","broker":"8932bf10.56a6b","x":320,"y":820,"wires":[["d2b81a0c.fa4bd8"]]},{"id":"e91cbd9c.8a503","type":"mqtt out","z":"9bf7fb6e.7aac88","name":"group-schlafzimmer","topic":"zigbee2mqtt/group-schlafzimmer/set","qos":"","retain":"","broker":"8932bf10.56a6b","x":1120,"y":820,"wires":[]},{"id":"47633ec0.d10ce","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"schlafzimmer-1","topic":"zigbee2mqtt/schlafzimmer-1","qos":"2","datatype":"json","broker":"8932bf10.56a6b","x":140,"y":700,"wires":[["1b5574b7.ab40fb"]]},{"id":"7552153.4e951ec","type":"counter","z":"9bf7fb6e.7aac88","name":"Counter","init":"-2","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":620,"y":700,"wires":[["c7844871.e15cf8"]]},{"id":"1b5574b7.ab40fb","type":"switch","z":"9bf7fb6e.7aac88","name":"OFF?","property":"payload.state","propertyType":"msg","rules":[{"t":"eq","v":"OFF","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":350,"y":700,"wires":[["e40533f0.26caf"]]},{"id":"e40533f0.26caf","type":"change","z":"9bf7fb6e.7aac88","name":"Reset","rules":[{"t":"set","p":"reset","pt":"msg","to":"-2","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":470,"y":700,"wires":[["7552153.4e951ec"]]},{"id":"c7844871.e15cf8","type":"switch","z":"9bf7fb6e.7aac88","name":"ON?","property":"count","propertyType":"msg","rules":[{"t":"gte","v":"-1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":750,"y":700,"wires":[["ed1d1058.9f5aa"]]},{"id":"d82fe7f7.84eb18","type":"function","z":"9bf7fb6e.7aac88","name":"(on|off)-hold.*","func":"payload = {\n    \"on-hold\": {color_temp_move: 60},\n    \"off-hold\": {color_temp_move: -60},\n    \"on-hold-release\": {color_temp_move: \"stop\"},\n    \"off-hold-release\": {color_temp_move: \"stop\"}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":840,"y":860,"wires":[["e91cbd9c.8a503"]]},{"id":"54a6a08c.801c6","type":"mqtt out","z":"9bf7fb6e.7aac88","name":"group-garderobe","topic":"zigbee2mqtt/group-garderobe/set","qos":"","retain":"","broker":"8932bf10.56a6b","x":1110,"y":1100,"wires":[]},{"id":"a99e5a7a.14ccf8","type":"time-range-switch","z":"9bf7fb6e.7aac88","name":"Sleeptime?","lat":"50.1333","lon":"8.71005","startTime":"23:00","endTime":"06:30","startOffset":0,"endOffset":0,"x":710,"y":1020,"wires":[["adc64198.4411b"],["76193f43.2b713"]]},{"id":"76193f43.2b713","type":"change","z":"9bf7fb6e.7aac88","name":"Standard","rules":[{"t":"set","p":"payload.brightness","pt":"msg","to":"254","tot":"num"},{"t":"set","p":"payload.color_temp","pt":"msg","to":"370","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":864,"y":1040,"wires":[["54a6a08c.801c6"]]},{"id":"bd62e44c.b67ca8","type":"switch","z":"9bf7fb6e.7aac88","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"on-press","vt":"str"},{"t":"eq","v":"off-press","vt":"str"},{"t":"regex","v":"(on|off)-hold.*","vt":"str","case":false},{"t":"regex","v":"(up|down)-.*","vt":"str","case":false}],"checkall":"true","repair":false,"outputs":4,"x":550,"y":500,"wires":[["5981e98d.de45f8"],["d8f7279b.a365c8"],["6d395cfa.5a16d4"],["d4f84f48.7477"]]},{"id":"a82be725.2f5dc8","type":"function","z":"9bf7fb6e.7aac88","name":"on-press","func":"const startup_scene = {brightness: 254, color_temp: 370};\nconst additional_scenes = [\n    {brightness: 254, color: {x: 0.314951744809611, y: 0.325010746064094}, color_temp: 346}, // activate\n    {brightness: 254, color: {x: 0.314951744809611, y: 0.325010746064094}, color_temp: 156}, // reading\n    {brightness: 213, color: {x:0.435684, y: 0.281409}, color_temp: 416}, // spring flowers\n    {brightness: 77, color :{x: 0.458227749642249, y: 0.410224893445347}, color_temp: 367} // dimmed\n] || []; // && to exclude, || to include additional scenes\n\nconst scenes = [\n    startup_scene\n    , ...additional_scenes\n];\n\nvar payload = {state: \"ON\", transition: 0.5};\nif (msg.count > -1) {\n    Object.assign(\n        payload,\n        scenes[msg.count % scenes.length] // round robin\n    );\n}\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":460,"wires":[["b5a40e70.3ce94"]]},{"id":"d8f7279b.a365c8","type":"function","z":"9bf7fb6e.7aac88","name":"off-press","func":"return {payload: {state: \"OFF\", transition: 0.5}};","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":500,"wires":[["b5a40e70.3ce94"]]},{"id":"d4f84f48.7477","type":"function","z":"9bf7fb6e.7aac88","name":"(up|down)-.*","func":"payload = {\n    \"up-press\": {brightness_step: 40, transition: 0.5},\n    \"down-press\": {brightness_step: -40, transition: 0.5},\n    \"up-hold\": {brightness_move: 80},\n    \"down-hold\": {brightness_move: -80},\n    \"up-hold-release\": {brightness_move: 0},\n    \"down-hold-release\": {brightness_move: 0}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":830,"y":580,"wires":[["b5a40e70.3ce94"]]},{"id":"56a546b5.fdab58","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"wohnzimmer-dimmer","topic":"zigbee2mqtt/wohnzimmer-dimmer/action","qos":"2","datatype":"auto","broker":"8932bf10.56a6b","x":320,"y":500,"wires":[["bd62e44c.b67ca8"]]},{"id":"b5a40e70.3ce94","type":"mqtt out","z":"9bf7fb6e.7aac88","name":"group-wohnzimmer","topic":"zigbee2mqtt/group-wohnzimmer/set","qos":"","retain":"","broker":"8932bf10.56a6b","x":1110,"y":500,"wires":[]},{"id":"2abe4b94.542774","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"wohnzimmer-regal","topic":"zigbee2mqtt/wohnzimmer-regal","qos":"2","datatype":"json","broker":"8932bf10.56a6b","x":150,"y":380,"wires":[["5592924e.04811c"]]},{"id":"5981e98d.de45f8","type":"counter","z":"9bf7fb6e.7aac88","name":"Counter","init":"-2","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":620,"y":380,"wires":[["57e3ce89.38eb5"]]},{"id":"5592924e.04811c","type":"switch","z":"9bf7fb6e.7aac88","name":"OFF?","property":"payload.state","propertyType":"msg","rules":[{"t":"eq","v":"OFF","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":350,"y":380,"wires":[["46393295.0e655c"]]},{"id":"46393295.0e655c","type":"change","z":"9bf7fb6e.7aac88","name":"Reset","rules":[{"t":"set","p":"reset","pt":"msg","to":"-2","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":470,"y":380,"wires":[["5981e98d.de45f8"]]},{"id":"57e3ce89.38eb5","type":"switch","z":"9bf7fb6e.7aac88","name":"ON?","property":"count","propertyType":"msg","rules":[{"t":"gte","v":"-1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":750,"y":380,"wires":[["a82be725.2f5dc8"]]},{"id":"6d395cfa.5a16d4","type":"function","z":"9bf7fb6e.7aac88","name":"(on|off)-hold.*","func":"payload = {\n    \"on-hold\": {color_temp_move: 60},\n    \"off-hold\": {color_temp_move: -60},\n    \"on-hold-release\": {color_temp_move: \"stop\"},\n    \"off-hold-release\": {color_temp_move: \"stop\"}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":840,"y":540,"wires":[["b5a40e70.3ce94"]]},{"id":"adc64198.4411b","type":"change","z":"9bf7fb6e.7aac88","name":"Nightlight","rules":[{"t":"set","p":"payload.brightness","pt":"msg","to":"2","tot":"num"},{"t":"set","p":"payload.color_temp","pt":"msg","to":"447","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":864,"y":1000,"wires":[["54a6a08c.801c6"]]},{"id":"1e431654.6bae2a","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"garderobe-motion-sensor","topic":"zigbee2mqtt/garderobe-motion-sensor","qos":"2","datatype":"json","broker":"8932bf10.56a6b","x":170,"y":980,"wires":[["b57e1017.ccd2f"]]},{"id":"9165da6b.c7cc68","type":"state-machine","z":"9bf7fb6e.7aac88","name":"State","triggerProperty":"payload","triggerPropertyType":"msg","stateProperty":"payload","statePropertyType":"msg","initialDelay":"0","persistOnReload":false,"outputStateChangeOnly":true,"throwException":false,"states":["OFF","ON"],"transitions":[{"name":"ON","from":"OFF","to":"ON"},{"name":"OFF","from":"ON","to":"OFF"}],"x":490,"y":980,"wires":[["b0cbb3b1.cd1f4"]]},{"id":"da75601a.79aa2","type":"switch","z":"9bf7fb6e.7aac88","name":"(ON|OFF)?","property":"payload.state","propertyType":"msg","rules":[{"t":"eq","v":"ON","vt":"str"},{"t":"eq","v":"OFF","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":510,"y":1060,"wires":[["a99e5a7a.14ccf8"],["54a6a08c.801c6"]]},{"id":"b0cbb3b1.cd1f4","type":"change","z":"9bf7fb6e.7aac88","name":"zigbee2mqtt (ON|OFF)","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\"state\": msg.payload, \"transition\": 0.5}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":1060,"wires":[["da75601a.79aa2"]]},{"id":"b57e1017.ccd2f","type":"change","z":"9bf7fb6e.7aac88","name":"(ON|OFF)","rules":[{"t":"set","p":"payload","pt":"msg","to":"msg.payload.occupancy ? \"ON\" : \"OFF\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":980,"wires":[["9165da6b.c7cc68"]]},{"id":"9c805b00.1164e8","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"","topic":"zigbee2mqtt/wuerfel-schalter","qos":"2","datatype":"json","broker":"8932bf10.56a6b","nl":false,"rap":true,"rh":0,"x":180,"y":1340,"wires":[["e1c00636.913d98"]]},{"id":"e1c00636.913d98","type":"switch","z":"9bf7fb6e.7aac88","name":"","property":"payload.action","propertyType":"msg","rules":[{"t":"eq","v":"","vt":"str"},{"t":"eq","v":"wakeup","vt":"str"},{"t":"eq","v":"tap","vt":"str"},{"t":"eq","v":"flip90","vt":"str"},{"t":"eq","v":"flip180","vt":"str"},{"t":"eq","v":"rotate_left","vt":"str"},{"t":"eq","v":"rotate_right","vt":"str"}],"checkall":"true","repair":false,"outputs":7,"x":470,"y":1340,"wires":[["66fa70dc.45fa"],[],[],[],[],[],[]]},{"id":"66fa70dc.45fa","type":"change","z":"9bf7fb6e.7aac88","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.side","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":670,"y":1340,"wires":[["6eebcb1.38fce34"]]},{"id":"6eebcb1.38fce34","type":"debug","z":"9bf7fb6e.7aac88","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":770,"y":1260,"wires":[]},{"id":"930dc605.f37e98","type":"debug","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Terrasse – links","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1310,"y":1520,"wires":[]},{"id":"6f4e279d.892e58","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Sonnenstandsteuerung","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_select.blind_control_mode_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"mode","valueType":"str"}],"x":1880,"y":1460,"wires":[["59ef0664.5b1bf8"]]},{"id":"1151bc6f.c175d4","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Werktag (heute)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.is_workday_today","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"data","propertyType":"msg","value":"","valueType":"eventData"},{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"}],"x":1900,"y":540,"wires":[["30aa6cf2.546b44"]]},{"id":"30aa6cf2.546b44","type":"change","z":"79ddab3e.2ca0c4","name":"flow.dayInfo.today.isWorkday","rules":[{"t":"set","p":"dayInfo.today.isWorkday","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2160,"y":540,"wires":[[]]},{"id":"b6fe5f32.faeab","type":"change","z":"79ddab3e.2ca0c4","name":"flow.dayInfo.tomorrow.isWorkday","rules":[{"t":"set","p":"dayInfo.tomorrow.isWorkday","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2180,"y":600,"wires":[[]]},{"id":"edb8b9f2.f56048","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Werktag (morgen)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.is_workday_tomorrow","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"data","propertyType":"msg","value":"","valueType":"eventData"},{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"}],"x":1900,"y":600,"wires":[["b6fe5f32.faeab"]]},{"id":"8651207e.ecb56","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"frühestens von (Werktag)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_datetime.blind_control_from_earliest_workday","entityidfiltertype":"exact","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"data","propertyType":"msg","value":"","valueType":"eventData"},{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"}],"x":1870,"y":660,"wires":[["251a8f78.fde79"]]},{"id":"251a8f78.fde79","type":"change","z":"79ddab3e.2ca0c4","name":"flow.timeInfo.fromEarliest.workday","rules":[{"t":"set","p":"timeInfo.fromEarliest.workday","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2180,"y":660,"wires":[[]]},{"id":"d47e295c.c828c8","type":"change","z":"79ddab3e.2ca0c4","name":"flow.timeInfo.untilLatest.workday","rules":[{"t":"set","p":"timeInfo.untilLatest.workday","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2180,"y":720,"wires":[[]]},{"id":"3116bee7.185eb2","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"spätestens bis (Werktag)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_datetime.blind_control_until_latest_workday","entityidfiltertype":"exact","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"data","propertyType":"msg","value":"","valueType":"eventData"},{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"}],"x":1870,"y":720,"wires":[["d47e295c.c828c8"]]},{"id":"76b5c7b0.3f5978","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Sturm","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_storm","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":false,"for":"","forType":"num","forUnits":"seconds","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"}],"x":2050,"y":180,"wires":[["e8ebd45a.d5bf78"]]},{"id":"b5d2c687.e80328","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1680,"wires":[["b8e301a4.ebbb2"]]},{"id":"c3ffc696.e33588","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Markise offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_marquee_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"marqueeOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1460,"wires":[["2b7b4600.0b920a","8f8932ea.dd2c1"]]},{"id":"601d4000.d7862","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"frühestens von (Feiertag)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_datetime.blind_control_from_earliest_holiday","entityidfiltertype":"exact","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"data","propertyType":"msg","value":"","valueType":"eventData"},{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"}],"x":1870,"y":780,"wires":[["2f8a3148.cc00be"]]},{"id":"2f8a3148.cc00be","type":"change","z":"79ddab3e.2ca0c4","name":"flow.timeInfo.fromEarliest.weekendOrHoliday","rules":[{"t":"set","p":"timeInfo.fromEarliest.weekendOrHoliday","pt":"flow","to":"msg.payload","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2210,"y":780,"wires":[[]]},{"id":"8d66e586.55ff18","type":"change","z":"79ddab3e.2ca0c4","name":"flow.timeInfo.untilLatest.weekendOrHoliday","rules":[{"t":"set","p":"timeInfo.untilLatest.weekendOrHoliday","pt":"flow","to":"msg.payload","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2210,"y":840,"wires":[[]]},{"id":"ee2d0a99.94f108","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"spätestens bis (Feiertag)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_datetime.blind_control_until_latest_holiday","entityidfiltertype":"exact","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"data","propertyType":"msg","value":"","valueType":"eventData"},{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"}],"x":1870,"y":840,"wires":[["8d66e586.55ff18"]]},{"id":"f5c75ce9.d5fe9","type":"change","z":"79ddab3e.2ca0c4","name":"flow.defaultPosition.schedule","rules":[{"t":"set","p":"defaultPosition.schedule","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2160,"y":480,"wires":[[]]},{"id":"5ef548b.2504db8","type":"blind-control","z":"79ddab3e.2ca0c4","name":"zeitplanabhängige Ausgangsstellung","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"1000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.workday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.timeInfo.fromEarliest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.weekendOrHoliday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....omEarliest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.workday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow.timeInfo.untilLatest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.weekendOrHoliday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ntilLatest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"0","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"0.1","blindPosMin":"closed (min)","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"60000","sunTopic":"","windowTop":"2.1","windowBottom":"17","windowAzimuthStart":"110","windowAzimuthEnd":"260","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":1820,"y":480,"wires":[["f5c75ce9.d5fe9"]]},{"id":"8f8932ea.dd2c1","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Terrasse – links","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"marqueeOpen","validOperandAType":"msg","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>msg.marqueeOpen</var> ist true</div><div>↕  Absolut <var>offen (max)</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"windowOpen","validOperandAType":"msg","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>50%</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.workday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.timeInfo.fromEarliest.workday</var></div></div><div>↝�  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.weekendOrHoliday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....omEarliest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.schedule","validOperandAType":"flow","validOperator":"equal","validOperatorText":"=","validOperandBValue":"1","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.schedule</var> = 1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.workday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow.timeInfo.untilLatest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.weekendOrHoliday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ntilLatest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"100","windowAzimuthEnd":"260","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":670,"y":1520,"wires":[["e3e74aca.2ae0c8"]]},{"id":"e3e74aca.2ae0c8","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('active.wohnzimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":1520,"wires":[["930dc605.f37e98"]]},{"id":"ca3108f3.4f5f98","type":"change","z":"79ddab3e.2ca0c4","name":"Alarm (5min)","rules":[{"t":"set","p":"position","pt":"msg","to":"defaultPosition.schedule","tot":"flow"},{"t":"set","p":"importance","pt":"msg","to":"999","tot":"num"},{"t":"set","p":"expire","pt":"msg","to":"600000","tot":"num"},{"t":"set","p":"reason","pt":"msg","to":"storm","tot":"str"},{"t":"set","p":"room","pt":"msg","to":"global","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2430,"y":180,"wires":[["d399c090.c897b"]]},{"id":"e8ebd45a.d5bf78","type":"trigger","z":"79ddab3e.2ca0c4","name":"","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"-1","extend":true,"overrideDelay":false,"units":"min","reset":"false","bytopic":"all","topic":"topic","outputs":1,"x":2230,"y":180,"wires":[["ca3108f3.4f5f98"]]},{"id":"f0243a28.d1c4d8","type":"trigger","z":"79ddab3e.2ca0c4","name":"erneut senden alle <Auslöseintervall> Sekunden","op1":"","op2":"0","op1type":"date","op2type":"str","duration":"-5","extend":false,"overrideDelay":true,"units":"s","reset":"","bytopic":"all","topic":"payload","outputs":1,"x":2160,"y":140,"wires":[["a7fe70e9.87fac"]]},{"id":"b7461eaa.f9dbc","type":"debug","z":"79ddab3e.2ca0c4","name":"Steuerung","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":2930,"y":240,"wires":[]},{"id":"b8e301a4.ebbb2","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Schlafzimmer","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.workday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.timeInfo.fromEarliest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.weekendOrHoliday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....omEarliest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.schedule","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.schedule</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.workday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow.timeInfo.untilLatest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.weekendOrHoliday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ntilLatest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"100","windowAzimuthEnd":"260","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":620,"y":1680,"wires":[["7d8da7cc.3697e8"]]},{"id":"2b7b4600.0b920a","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Terrasse – rechts","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"marqueeOpen","validOperandAType":"msg","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>msg.marqueeOpen</var> ist true</div><div>↕  Absolut <var>offen (max)</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.workday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.timeInfo.fromEarliest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.weekendOrHoliday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....omEarliest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.schedule","validOperandAType":"flow","validOperator":"equal","validOperatorText":"=","validOperandBValue":"1","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.schedule</var> = 1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.workday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow.timeInfo.untilLatest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.weekendOrHoliday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ntilLatest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"100","windowAzimuthEnd":"260","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":670,"y":1460,"wires":[["39dea74a.5370c8"]]},{"id":"39dea74a.5370c8","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('active.wohnzimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":1460,"wires":[["a087f248.45f72"]]},{"id":"a087f248.45f72","type":"debug","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Terrasse – rechts","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1310,"y":1460,"wires":[]},{"id":"d9d590d8.c6178","type":"debug","z":"79ddab3e.2ca0c4","name":"Schlafzimmer","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1260,"y":1680,"wires":[]},{"id":"7d8da7cc.3697e8","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('active.schlafzimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":1680,"wires":[["d9d590d8.c6178"]]},{"id":"7d786999.13a9f8","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Höchsttemperatur (Vorhersage)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"sensor.weather_forecast_temperature_high","entityidfiltertype":"exact","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"temperatureMax","valueType":"str"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"}],"x":1850,"y":1000,"wires":[["fd04dc1.3be172"]]},{"id":"5b82690d.e999e8","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Tiefsttemperatur (Vorhersage)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"sensor.weather_forecast_temperature_low","entityidfiltertype":"exact","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"temperatureMin","valueType":"str"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"}],"x":1860,"y":1060,"wires":[["fd04dc1.3be172"]]},{"id":"385c87d5.6c0e88","type":"switch","z":"79ddab3e.2ca0c4","name":"temperatureMax < 24 °C?","property":"payload.temperatureMax","propertyType":"msg","rules":[{"t":"lt","v":"24","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2790,"y":1000,"wires":[["f44628aa.f71908"],["c0aec1de.9be17"]]},{"id":"c4a66df1.cec7d","type":"switch","z":"79ddab3e.2ca0c4","name":"temperatureMin < 0 °C?","property":"payload.temperatureMin","propertyType":"msg","rules":[{"t":"lt","v":"0","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2790,"y":940,"wires":[["7936bb15.899f44"],["385c87d5.6c0e88"]]},{"id":"c0aec1de.9be17","type":"switch","z":"79ddab3e.2ca0c4","name":"solarPowerNextHour < 150 W?","property":"payload.solarPowerNextHour","propertyType":"msg","rules":[{"t":"lt","v":"150","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2810,"y":1060,"wires":[["f44628aa.f71908"],["bed79daf.c6b7d"]]},{"id":"d3845079.e7563","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Automatik Sonnenstandsteuerung","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_boolean.blind_control_auto_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"auto","valueType":"str"}],"x":1840,"y":1400,"wires":[["59d10a57.ef1e54"]]},{"id":"fd04dc1.3be172","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"num","reduceFixup":"","x":2090,"y":1000,"wires":[["b9231714.1f2478"]]},{"id":"b9231714.1f2478","type":"switch","z":"79ddab3e.2ca0c4","name":"vollständig?","property":"$count($keys(msg.payload)) = 3","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2230,"y":1000,"wires":[["61b62ef1.adae4"]]},{"id":"f44628aa.f71908","type":"change","z":"79ddab3e.2ca0c4","name":"0 (aus)","rules":[{"t":"set","p":"mode","pt":"msg","to":"0 (aus)","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3050,"y":1000,"wires":[["761423cd.d3881c"]]},{"id":"7936bb15.899f44","type":"change","z":"79ddab3e.2ca0c4","name":"1 (Winter)","rules":[{"t":"set","p":"mode","pt":"msg","to":"1 (Winter)","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3060,"y":940,"wires":[["761423cd.d3881c"]]},{"id":"bed79daf.c6b7d","type":"change","z":"79ddab3e.2ca0c4","name":"2 (Sommer)","rules":[{"t":"set","p":"mode","pt":"msg","to":"2 (Sommer)","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3070,"y":1060,"wires":[["761423cd.d3881c"]]},{"id":"1db35bfa.d0aa34","type":"api-call-service","z":"79ddab3e.2ca0c4","name":"setze Schalter","server":"a0992e23.0acf8","version":3,"debugenabled":false,"service_domain":"{{domain}}","service":"{{service}}","entityId":"{{entity_id}}","data":"msg.data","dataType":"jsonata","mergecontext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","x":3320,"y":1600,"wires":[[]]},{"id":"ce0e9316.3ec58","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Sonnenleistung (nächste Stunde)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"sensor.power_production_next_hour","entityidfiltertype":"exact","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"solarPowerNextHour","valueType":"str"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"}],"x":1850,"y":940,"wires":[["fd04dc1.3be172"]]},{"id":"3a8c31a4.8f4d5e","type":"debug","z":"79ddab3e.2ca0c4","name":"Wetterbedingungen","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":2510,"y":1060,"wires":[]},{"id":"61b62ef1.adae4","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1000,"wires":[["3a8c31a4.8f4d5e","c4a66df1.cec7d"]]},{"id":"175fcd54.ff9613","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1520,"wires":[["8f8932ea.dd2c1"]]},{"id":"76e1cfbd.5e675","type":"link out","z":"79ddab3e.2ca0c4","name":"","links":["bf339f52.8d3c3","eb4d638e.59791","ba177608.e92ab8","dd7c30f0.2eb05","be200807.b749a8","661839b6.633208","a1ae5ee8.854af","c188372f.98fd48","d49691fd.0934f","3dd26aec.942b06","95d229d3.7c7388","3ad59bfd.393924","e4f75033.5104a","2f4137b4.c4b378","6aefb8a1.904188","e52c7c5.cdae08","fc9c88a6.86e0d8","a0a23d41.66767","405db6c2.e8e7b8","f6b52548.51de08","4311b1da.6fb3d","919d6b96.053878","766c8887.e38e78","e5d34195.e1dbd","63916888.267688","14f40dc0.294162","be7ad3c4.d4286","cd3ac6f9.3d2558","b1b8e0d6.83f92","42c34c14.ad5d94","845c5fe1.7c90b","5b81bd3d.5a99c4","902b3788.3b5bb8","99c6882.54cde78","e9b0bfd7.1a1b3","2e93feda.d44822"],"x":135,"y":100,"wires":[]},{"id":"6ba77255.7e161c","type":"link out","z":"79ddab3e.2ca0c4","name":"","links":["1bb4851a.65b41b","1c12b891.573ec7"],"x":2555,"y":140,"wires":[]},{"id":"1bb4851a.65b41b","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["6ba77255.7e161c"],"x":1595,"y":420,"wires":[["5ef548b.2504db8","31c97d95.624e72"]]},{"id":"e0d80bf0.6f4108","type":"comment","z":"79ddab3e.2ca0c4","name":"Trigger","info":"","x":1730,"y":60,"wires":[]},{"id":"6b112f75.88842","type":"comment","z":"79ddab3e.2ca0c4","name":"Kontext","info":"","x":1730,"y":360,"wires":[]},{"id":"c3a214dc.3e49f8","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1360,"wires":[["efcd0260.1265c"]]},{"id":"efcd0260.1265c","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Esstisch","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"","validOperandAType":"none","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"","validOperandAType":"none","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"190","windowAzimuthEnd":"350","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":650,"y":1360,"wires":[["4d971092.e14ef"]]},{"id":"4d971092.e14ef","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('active.wohnzimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":1360,"wires":[["c152cacf.508288"]]},{"id":"c152cacf.508288","type":"debug","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Esstisch","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1290,"y":1360,"wires":[]},{"id":"e793a7c0.212528","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1200,"wires":[["d41e9331.7103f"]]},{"id":"9d69a582.3d4b98","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('active.kueche') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":1200,"wires":[["805bcb4e.c9bae8"]]},{"id":"805bcb4e.c9bae8","type":"debug","z":"79ddab3e.2ca0c4","name":"Küche – links","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1250,"y":1200,"wires":[]},{"id":"adcc7c38.74e0a","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('active.kueche') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":1140,"wires":[["eb369537.228c78"]]},{"id":"eb369537.228c78","type":"debug","z":"79ddab3e.2ca0c4","name":"Küche – rechts","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1260,"y":1140,"wires":[]},{"id":"c9db3695.83a1a8","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1140,"wires":[["1d093888.989097"]]},{"id":"51bf045.f7b99fc","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":220,"wires":[["b9e73284.a3b4"]]},{"id":"b9e73284.a3b4","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Badezimmer","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.schedule","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.schedule</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.workday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.timeInfo.fromEarliest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.weekendOrHoliday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....omEarliest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.schedule","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.schedule</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (Ý�bersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.workday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow.timeInfo.untilLatest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.weekendOrHoliday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ntilLatest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"10","windowAzimuthEnd":"170","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":220,"wires":[["8719beb2.469b"]]},{"id":"8719beb2.469b","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('options.active.badezimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":220,"wires":[["de30967e.849318"]]},{"id":"de30967e.849318","type":"debug","z":"79ddab3e.2ca0c4","name":"Badezimmer","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1250,"y":220,"wires":[]},{"id":"5577b3ee.823b5c","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":380,"wires":[["80cafb54.b80c38"]]},{"id":"80cafb54.b80c38","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Duschbad","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.workday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.timeInfo.fromEarliest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.weekendOrHoliday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....omEarliest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.workday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow.timeInfo.untilLatest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.weekendOrHoliday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ntilLatest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"10","windowAzimuthEnd":"170","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":380,"wires":[["f82044.38329fc"]]},{"id":"f82044.38329fc","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('options.active.duschbad') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":380,"wires":[["469b83d0.54c00c"]]},{"id":"469b83d0.54c00c","type":"debug","z":"79ddab3e.2ca0c4","name":"Duschbad","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1250,"y":380,"wires":[]},{"id":"a7d3c027.5f89f","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":600,"wires":[["7e629f90.a6093"]]},{"id":"17fd404f.efe5d","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('options.active.nino') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":600,"wires":[["bc6ed0d4.7b2a4"]]},{"id":"bc6ed0d4.7b2a4","type":"debug","z":"79ddab3e.2ca0c4","name":"Nino – links","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1250,"y":600,"wires":[]},{"id":"b52cb0a1.382cb","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('options.active.nino') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":540,"wires":[["5d6b425d.136c1c"]]},{"id":"5d6b425d.136c1c","type":"debug","z":"79ddab3e.2ca0c4","name":"Nino – rechts","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1250,"y":540,"wires":[]},{"id":"bc8663a5.9c478","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":980,"wires":[["f4bcd3d1.33719"]]},{"id":"f4bcd3d1.33719","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Arbeitszimmer","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭝�❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"","validOperandAType":"none","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"","validOperandAType":"none","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"-80","windowAzimuthEnd":"80","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":620,"y":980,"wires":[["3e1b19ef.ad6db6"]]},{"id":"3e1b19ef.ad6db6","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('active.arbeitszimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":980,"wires":[["437b9082.22494"]]},{"id":"437b9082.22494","type":"debug","z":"79ddab3e.2ca0c4","name":"Arbeitszimmer","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1260,"y":980,"wires":[]},{"id":"7e629f90.a6093","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Nino – links","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.workday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.timeInfo.fromEarliest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.weekendOrHoliday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....omEarliest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.schedule","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.schedule</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.workday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow.timeInfo.untilLatest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.weekendOrHoliday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ntilLatest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"-80","windowAzimuthEnd":"80","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":600,"wires":[["17fd404f.efe5d"]]},{"id":"df18f0b7.d190b","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Nino – rechts","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.workday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.timeInfo.fromEarliest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.weekendOrHoliday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....omEarliest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.schedule","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.schedule</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.workday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow.timeInfo.untilLatest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.weekendOrHoliday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ntilLatest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"10","windowAzimuthEnd":"170","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":540,"wires":[["b52cb0a1.382cb"]]},{"id":"51dbb831.5405b8","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Noah – links","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.workday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.timeInfo.fromEarliest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.weekendOrHoliday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....omEarliest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.schedule","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.schedule</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.workday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow.timeInfo.untilLatest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.weekendOrHoliday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ntilLatest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"-80","windowAzimuthEnd":"80","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":820,"wires":[["e0506eb0.24dc7"]]},{"id":"2d808d1e.af01b2","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":820,"wires":[["51dbb831.5405b8"]]},{"id":"e0506eb0.24dc7","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('options.active.noah') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":820,"wires":[["820c7047.214bd"]]},{"id":"410de269.de31fc","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Noah – rechts","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.workday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.timeInfo.fromEarliest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"timeInfo.fromEarliest.weekendOrHoliday","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....omEarliest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.schedule","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.schedule</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.workday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow.timeInfo.untilLatest.workday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"timeInfo.untilLatest.weekendOrHoliday","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ntilLatest.weekendOrHoliday</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"-80","windowAzimuthEnd":"80","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":620,"y":760,"wires":[["276e7b69.24efd4"]]},{"id":"820c7047.214bd","type":"debug","z":"79ddab3e.2ca0c4","name":"Noah – links","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1250,"y":820,"wires":[]},{"id":"11446da5.79f7e2","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":760,"wires":[["410de269.de31fc"]]},{"id":"276e7b69.24efd4","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Override?","property":"$flowContext('options.active.noah') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1000,"y":760,"wires":[["eb4807ba.d8ccc8"]]},{"id":"eb4807ba.d8ccc8","type":"debug","z":"79ddab3e.2ca0c4","name":"Noah – rechts","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1260,"y":760,"wires":[]},{"id":"31c97d95.624e72","type":"blind-control","z":"79ddab3e.2ca0c4","name":"tageslichtabhängige Ausgangsstellung","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"1000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":true,"valid":{"validTimeReg":true,"validLevel":true,"validOperand1A":true},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"","validOperandAType":"none","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":1,"name":"","isValid":true,"valid":{"validTimeReg":true,"validLevel":true,"validOperand1A":true},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"","validOperandAType":"none","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"0","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"0.1","blindPosMin":"closed (min)","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"60000","sunTopic":"","windowTop":"2.1","windowBottom":"17","windowAzimuthStart":"110","windowAzimuthEnd":"260","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":1820,"y":420,"wires":[["d585c41.f9c6f38"]]},{"id":"d585c41.f9c6f38","type":"change","z":"79ddab3e.2ca0c4","name":"flow.defaultPosition.daylight","rules":[{"t":"set","p":"defaultPosition.daylight","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2160,"y":420,"wires":[[]]},{"id":"b446f873.d01658","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_boolean.blind_control_active_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"active","valueType":"str"}],"x":1870,"y":1340,"wires":[["d4b93fb1.ba853"]]},{"id":"d4b93fb1.ba853","type":"change","z":"79ddab3e.2ca0c4","name":"setze Raum","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2110,"y":1340,"wires":[["5bf5ee73.f906"]]},{"id":"e06d988b.f45608","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2270,"y":1460,"wires":[["c715ba47.4785c8"]]},{"id":"c715ba47.4785c8","type":"switch","z":"79ddab3e.2ca0c4","name":"vollständig?","property":"$count($keys(msg.payload)) = $count($flowContext(\"rooms\"))","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2490,"y":1340,"wires":[["5c995479.83034c"]]},{"id":"8b250cb5.68f51","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Auslöseintervall","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_number.blind_control_trigger_interval","entityidfiltertype":"exact","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"delay","propertyType":"msg","value":"","valueType":"entityState"}],"x":1740,"y":140,"wires":[["1ac77e62.1272f2"]]},{"id":"1ac77e62.1272f2","type":"change","z":"79ddab3e.2ca0c4","name":"ms -> s","rules":[{"t":"set","p":"delay","pt":"msg","to":"1000 * msg.delay","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1900,"y":140,"wires":[["f0243a28.d1c4d8"]]},{"id":"a7fe70e9.87fac","type":"change","z":"79ddab3e.2ca0c4","name":"triggerOnly","rules":[{"t":"set","p":"topic","pt":"msg","to":"triggerOnly","tot":"str"},{"t":"set","p":"room","pt":"msg","to":"global","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2430,"y":140,"wires":[["6ba77255.7e161c","d399c090.c897b"]]},{"id":"ff265571.521ab8","type":"server-state-changed","z":"c82674e8.bd5658","name":"Override: Position","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"${INPUT_ENTITY}","entityidfiltertype":"exact","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":false,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"position","propertyType":"msg","value":"","valueType":"entityState"},{"property":"importance","propertyType":"msg","value":"1000","valueType":"num"},{"property":"reason","propertyType":"msg","value":"manual","valueType":"str"}],"x":190,"y":160,"wires":[["65e53ee7.7c77a","d8bff5fc.ce2998"]]},{"id":"65e53ee7.7c77a","type":"switch","z":"c82674e8.bd5658","name":"reset?","property":"position","propertyType":"msg","rules":[{"t":"eq","v":"-20","vt":"str"},{"t":"eq","v":"-10","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":3,"x":370,"y":160,"wires":[["6d017920.9687a8"],["94a1341d.2f84a8"],["69a1f732.616898"]]},{"id":"94a1341d.2f84a8","type":"change","z":"c82674e8.bd5658","name":"reset","rules":[{"t":"set","p":"reset","pt":"msg","to":"true","tot":"bool"},{"t":"delete","p":"position","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":160,"wires":[[]]},{"id":"69a1f732.616898","type":"change","z":"c82674e8.bd5658","name":"rescale position","rules":[{"t":"set","p":"position","pt":"msg","to":"msg.position / 100","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":200,"wires":[[]]},{"id":"6d017920.9687a8","type":"change","z":"c82674e8.bd5658","name":"position = -1","rules":[{"t":"set","p":"position","pt":"msg","to":"-1","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":120,"wires":[["ffaf417.a4f59c"]]},{"id":"ffaf417.a4f59c","type":"delay","z":"c82674e8.bd5658","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":730,"y":80,"wires":[["78870c35.80d9e4"]]},{"id":"78870c35.80d9e4","type":"api-call-service","z":"c82674e8.bd5658","name":"-10","server":"a0992e23.0acf8","version":3,"debugenabled":false,"service_domain":"input_number","service":"set_value","entityId":"${INPUT_ENTITY}","data":"{\"value\": -10}","dataType":"json","mergecontext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","x":890,"y":80,"wires":[[]]},{"id":"d8bff5fc.ce2998","type":"change","z":"c82674e8.bd5658","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"position","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":380,"y":280,"wires":[[]]},{"id":"b73c2ea3.ec314","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung gesondert je Raum","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_boolean.blind_control_specific_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"specific","valueType":"str"}],"x":1830,"y":1220,"wires":[["e1077381.aabae"]]},{"id":"e1077381.aabae","type":"change","z":"79ddab3e.2ca0c4","name":"setze Raum","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2110,"y":1220,"wires":[["1fafbd65.55bab3"]]},{"id":"59ef0664.5b1bf8","type":"change","z":"79ddab3e.2ca0c4","name":"setze Raum","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2110,"y":1460,"wires":[["e06d988b.f45608"]]},{"id":"761423cd.d3881c","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"autoMode","pt":"flow","to":"mode","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3300,"y":1000,"wires":[["6efe762.a068f88"]]},{"id":"59d10a57.ef1e54","type":"change","z":"79ddab3e.2ca0c4","name":"setze Raum","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2110,"y":1400,"wires":[["f660b0f5.02674"]]},{"id":"5c995479.83034c","type":"function","z":"79ddab3e.2ca0c4","name":"aktualisiere Flow","func":"flow.get(\"options\")[msg.field] = msg.payload;\n\nreturn {};","outputs":1,"noerr":0,"initialize":"// Der Code hier wird ausgeführt,\n// wenn der Node gestartet wird\nflow.set(\"options\", flow.get(\"options\") || {});","finalize":"","libs":[],"x":2670,"y":1340,"wires":[["a86c098b.8ba4c8"]]},{"id":"f660b0f5.02674","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2270,"y":1400,"wires":[["c715ba47.4785c8"]]},{"id":"5bf5ee73.f906","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2270,"y":1340,"wires":[["c715ba47.4785c8"]]},{"id":"1fafbd65.55bab3","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2270,"y":1220,"wires":[["c715ba47.4785c8"]]},{"id":"2037cd9a.b30ad2","type":"inject","z":"79ddab3e.2ca0c4","name":"rooms","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":"0","topic":"","payload":"[\"global\", \"badezimmer\", \"duschbad\", \"nino\", \"noah\", \"arbeitszimmer\", \"kueche\", \"wohnzimmer\", \"schlafzimmer\"]","payloadType":"json","x":1930,"y":1160,"wires":[["bc9cd8d5.1d0278"]]},{"id":"bc9cd8d5.1d0278","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"rooms","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2130,"y":1160,"wires":[[]]},{"id":"728c1078.b44f8","type":"trigger","z":"79ddab3e.2ca0c4","name":"","op1":"rooms","op2":"","op1type":"flow","op2type":"nul","duration":"250","extend":true,"overrideDelay":false,"units":"ms","reset":"","bytopic":"all","topic":"topic","outputs":1,"x":2120,"y":1580,"wires":[["2a63a172.fa0c5e"]]},{"id":"2a63a172.fa0c5e","type":"split","z":"79ddab3e.2ca0c4","name":"je Raum","splt":"\\n","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":2280,"y":1580,"wires":[["22977410.1a619c"]]},{"id":"22977410.1a619c","type":"function","z":"79ddab3e.2ca0c4","name":"berechne Inputs neu","func":"var room = msg.payload;\n\nvar options = flow.get(\"options\");\nvar specific = options[\"specific\"][\"global\"] ? false : options[\"specific\"][room];\nvar lookup = (field => options[field][specific ? room : \"global\"]);\nvar auto = lookup(\"auto\");\n\nreturn [[\n    {\"room\": room, \"field\": \"specific\", \"payload\": specific},\n    {\"room\": room, \"field\": \"position\", \"payload\": lookup(\"position\")},\n    {\"room\": room, \"field\": \"auto\", \"payload\": auto},\n    {\"room\": room, \"field\": \"mode\", \"payload\": auto ? flow.get(\"autoMode\") : lookup(\"mode\")},\n    {\"room\": room, \"field\": \"active\", \"payload\": lookup(\"active\")}\n]];\n","outputs":1,"noerr":0,"initialize":"var domain = type => \"input_\" + type;\n\nfunction entity (type, field) {\n    return domain(type) + \".blind_control_\" + room + \"_\" + field\n} \n\nfunction service (type, value) {\n    if (type == \"boolean\") {\n        return value ? \"turn_on\" : \"turn_off\";\n    }\n    return \"select_option\";\n}\n\nfunction data (type, value) {\n    if (type == \"boolean\") {\n        return null;\n    }\n    return {\"option\": value};\n}\n\nfunction message (field, value) {\n    var type = {\"auto\": \"boolean\", \"mode\": \"select\", \"active\": \"boolean\"}[field];\n    return {\n        \"domain\": domain(type),\n        \"entity_id\": entity(type, field),\n        \"service\": service(type, value),\n        \"data\": data(type, value)\n    };\n}\n","finalize":"","libs":[],"x":2460,"y":1580,"wires":[["34f03d.96498fc4"]]},{"id":"cb001993.b57198","type":"function","z":"79ddab3e.2ca0c4","name":"generiere Service Call","func":"var domain = type => `input_${type}`;\n\nfunction entity (type, field, room) {\n    return domain(type) + `.blind_control_${field}_${room}`\n}\n\nfunction service (type, value) {\n    switch (type) {\n        case \"boolean\":\n            return value ? \"turn_on\" : \"turn_off\";\n        case \"select\":\n            return \"select_option\";\n        case \"number\":\n            return \"set_value\";\n    }\n}\n\nfunction data (type, value) {\n    switch (type) {\n        case \"select\":\n            return {\"option\": value};\n        case \"number\":\n            return {\"value\": value};\n    }\n}\n\nfunction message (room, field, value) {\n    var type = {\"specific\": \"boolean\", \"auto\": \"boolean\", \"mode\": \"select\", \"active\": \"boolean\", \"position\": \"number\"}[field];\n    return {\n        \"domain\": domain(type),\n        \"service\": service(type, value),\n        \"entity_id\": entity(type, field, room),\n        \"data\": data(type, value)\n    }\n}\n\nreturn message(msg.room, msg.field, msg.payload);\n","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3120,"y":1600,"wires":[["1db35bfa.d0aa34"]]},{"id":"a86c098b.8ba4c8","type":"link out","z":"79ddab3e.2ca0c4","name":"","links":["ff6e5cc9.4478f"],"x":2795,"y":1340,"wires":[]},{"id":"ff6e5cc9.4478f","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["a86c098b.8ba4c8","6efe762.a068f88"],"x":1955,"y":1580,"wires":[["728c1078.b44f8"]]},{"id":"2325ce46.5ec812","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_window_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":540,"wires":[["df18f0b7.d190b"]]},{"id":"146418ff.2a3997","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Override: Position","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_number.blind_control_position_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":false,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"position","valueType":"str"}],"x":1890,"y":1280,"wires":[["41f6a980.39d0e8"]]},{"id":"41f6a980.39d0e8","type":"change","z":"79ddab3e.2ca0c4","name":"setze Raum","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2110,"y":1280,"wires":[["9e95ec9.261b21"]]},{"id":"a3154844.b958b8","type":"link in","z":"79ddab3e.2ca0c4","name":"Kontextänderung","links":["79875059.6dd7"],"x":2695,"y":280,"wires":[["3b2457f4.7bf708"]]},{"id":"d399c090.c897b","type":"delay","z":"79ddab3e.2ca0c4","name":"","pauseType":"delay","timeout":"250","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2640,"y":180,"wires":[["3b2457f4.7bf708"]]},{"id":"cd3ac6f9.3d2558","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":1080,"wires":[["12c64dcb.aac152"]]},{"id":"3b2457f4.7bf708","type":"no-op","z":"79ddab3e.2ca0c4","name":"","x":2830,"y":180,"wires":[["b7461eaa.f9dbc","6519afc9.b92dd"]]},{"id":"12c64dcb.aac152","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(kueche|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":1080,"wires":[["1d093888.989097","d41e9331.7103f"]]},{"id":"c1ca23b4.9fab3","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(wohnzimmer|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":1300,"wires":[["8f8932ea.dd2c1","2b7b4600.0b920a","efcd0260.1265c"]]},{"id":"b1b8e0d6.83f92","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":1300,"wires":[["c1ca23b4.9fab3"]]},{"id":"fa839915.e84128","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(schlafzimmer|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":1620,"wires":[["b8e301a4.ebbb2"]]},{"id":"42c34c14.ad5d94","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":1620,"wires":[["fa839915.e84128"]]},{"id":"361f5f1d.898cf","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(badezimmer|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":160,"wires":[["b9e73284.a3b4"]]},{"id":"845c5fe1.7c90b","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":160,"wires":[["361f5f1d.898cf"]]},{"id":"41868de8.4a21a4","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(duschbad|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":320,"wires":[["80cafb54.b80c38"]]},{"id":"5b81bd3d.5a99c4","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":320,"wires":[["41868de8.4a21a4"]]},{"id":"84f6025.886c7","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(nino|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":480,"wires":[["7e629f90.a6093","df18f0b7.d190b"]]},{"id":"902b3788.3b5bb8","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":480,"wires":[["84f6025.886c7"]]},{"id":"d9184e83.1f921","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(noah|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":700,"wires":[["51dbb831.5405b8","410de269.de31fc"]]},{"id":"99c6882.54cde78","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":700,"wires":[["d9184e83.1f921"]]},{"id":"bad33b7.474eac8","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(arbeitszimmer|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":920,"wires":[["f4bcd3d1.33719"]]},{"id":"e9b0bfd7.1a1b3","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":920,"wires":[["bad33b7.474eac8"]]},{"id":"9e95ec9.261b21","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2270,"y":1280,"wires":[["c715ba47.4785c8"]]},{"id":"34f03d.96498fc4","type":"switch","z":"79ddab3e.2ca0c4","name":"Steuernachricht?","property":"field","propertyType":"msg","rules":[{"t":"eq","v":"position","vt":"str"},{"t":"eq","v":"mode","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":3,"x":2670,"y":1580,"wires":[["a0d99161.bcc13"],["91813548.074448"],["cb001993.b57198"]]},{"id":"79875059.6dd7","type":"link out","z":"79ddab3e.2ca0c4","name":"","links":["df9da4f4.93f5c8","726300f6.eb244","cf2d806a.d6fad","75758e65.16128","3aad7d02.afaef2","2aacee48.8e2122","9d95ce88.fa71c","ff22d323.85a78","a3154844.b958b8"],"x":3215,"y":1540,"wires":[]},{"id":"a0d99161.bcc13","type":"function","z":"79ddab3e.2ca0c4","name":"position","func":"var header = {\n    \"room\": msg.room,\n    \"reason\": \"manual\"\n};\n\npositionMessages = []\nswitch (msg.payload) {\n    case -20:\n        msg.payload = -10;\n        positionMessages.push({\n            ...header,\n            \"reset\": true\n        });\n        break\n    case -10:\n        break;\n    default:\n        positionMessages.push({\n            ...header,\n            \"position\": msg.payload / 100,\n            \"importance\": 1000\n        });\n}\n\nreturn [positionMessages, msg];\n","outputs":2,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2880,"y":1520,"wires":[["180efc32.3c6dd4"],["cb001993.b57198"]]},{"id":"180efc32.3c6dd4","type":"switch","z":"79ddab3e.2ca0c4","name":"room != global?","property":"room","propertyType":"msg","rules":[{"t":"neq","v":"global","vt":"str"}],"checkall":"false","repair":false,"outputs":1,"x":3100,"y":1540,"wires":[["79875059.6dd7"]]},{"id":"f0e61790.f3e668","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":[],"x":-35,"y":140,"wires":[[]]},{"id":"2957dfef.1b5b6","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":[],"x":-35,"y":280,"wires":[[]]},{"id":"682cbbf.605b544","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["6519afc9.b92dd"],"x":75,"y":100,"wires":[["76e1cfbd.5e675"]]},{"id":"6519afc9.b92dd","type":"link out","z":"79ddab3e.2ca0c4","name":"Steuerung","links":["682cbbf.605b544"],"x":2935,"y":180,"wires":[]},{"id":"91813548.074448","type":"function","z":"79ddab3e.2ca0c4","name":"mode","func":"return [\n    {\"room\": msg.room, \"mode\": parseInt(msg.payload, 0)},\n    msg\n];\n","outputs":2,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2870,"y":1560,"wires":[["180efc32.3c6dd4"],["cb001993.b57198"]]},{"id":"84c36164.fcef2","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Regen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_raining","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"raining","propertyType":"msg","value":"","valueType":"entityState"},{"property":"global","propertyType":"msg","value":"true","valueType":"bool"},{"property":"room","propertyType":"msg","value":"global","valueType":"str"}],"x":2650,"y":220,"wires":[["3b2457f4.7bf708"]]},{"id":"1d093888.989097","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Küche – rechts","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"","validOperandAType":"none","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"","validOperandAType":"none","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"-80","windowAzimuthEnd":"80","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":620,"y":1140,"wires":[["adcc7c38.74e0a"]]},{"id":"d41e9331.7103f","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Küche – links","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.1","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"10%","levelType":"levelFixed","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"false_expr","validOperatorText":"ist falsch/false/off/0","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist falsch/false/off/0<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div>⭳❗  Minimum (übersteuernd) <var>10%</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"","validOperandAType":"none","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"defaultPosition.daylight","validOperandAType":"flow","validOperator":"true_expr","validOperatorText":"ist wahr/true/on/1","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"raining","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.defaultPosition.daylight</var> ist wahr/true/on/1<br/><strong>und</strong> <var>msg.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"","validOperandAType":"none","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"10%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.1","windowBottom":"0.17","windowAzimuthStart":"190","windowAzimuthEnd":"350","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":1200,"wires":[["9d69a582.3d4b98"]]},{"id":"6efe762.a068f88","type":"link out","z":"79ddab3e.2ca0c4","name":"","links":["ff6e5cc9.4478f"],"x":3435,"y":1000,"wires":[]}]