[{"id":"79ddab3e.2ca0c4","type":"tab","label":"Rolladensteuerung","disabled":false,"info":""},{"id":"9bf7fb6e.7aac88","type":"tab","label":"Beleuchtung","disabled":false,"info":""},{"id":"edc1527de2d701a7","type":"tab","label":"außer Betrieb","disabled":false,"info":""},{"id":"a0992e23.0acf8","type":"server","name":"Home Assistant","version":1,"addon":true,"rejectUnauthorizedCerts":true,"ha_boolean":"y|yes|true|on|home|open","connectionDelay":true,"cacheJson":true},{"id":"8932bf10.56a6b","type":"mqtt-broker","name":"","broker":"core-mosquitto","port":"1883","clientid":"","usetls":false,"compatmode":false,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"a962ddc.fbff22","type":"position-config","name":"Kostheimer Landstraße 17, 55246 Mainz-Kostheim","isValide":"true","longitude":"0","latitude":"0","angleType":"deg","timeZoneOffset":"99","timeZoneDST":"0","stateTimeFormat":"3","stateDateFormat":"12"},{"id":"5fd6ad78.cfd8d4","type":"switch","z":"9bf7fb6e.7aac88","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"on-press","vt":"str"},{"t":"eq","v":"off-press","vt":"str"},{"t":"regex","v":"(on|off)-hold.*","vt":"str","case":false},{"t":"regex","v":"(up|down)-.*","vt":"str","case":false}],"checkall":"true","repair":false,"outputs":4,"x":530,"y":1280,"wires":[["5db24814.bd8fa8"],["1ef1f9d9.5b3126"],["4d46e9f1.c2a218"],["ad5b53a3.6d03d"]]},{"id":"9bfc8ef6.375c6","type":"function","z":"9bf7fb6e.7aac88","name":"on-press","func":"const startup_scene = {brightness: 254, color_temp: 370};\nconst additional_scenes = [\n    {brightness: 254, color_temp: 156}, // energize\n    {brightness: 254, color_temp: 346}, // reading\n    {brightness: 77, color_temp: 367} // dimmed\n] || []; // && to exclude, || to include additional scenes\n\nconst scenes = [\n    startup_scene\n    , ...additional_scenes\n];\n\nvar payload = {state: \"ON\", transition: 0.5};\nif (msg.count > -1) {\n    Object.assign(\n        payload,\n        scenes[msg.count % scenes.length] // round robin\n    );\n}\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":800,"y":1240,"wires":[["336a8b4d.d56504"]]},{"id":"1ef1f9d9.5b3126","type":"function","z":"9bf7fb6e.7aac88","name":"off-press","func":"return {payload: {state: \"OFF\", transition: 0.5}};","outputs":1,"noerr":0,"initialize":"","finalize":"","x":800,"y":1280,"wires":[["336a8b4d.d56504"]]},{"id":"ad5b53a3.6d03d","type":"function","z":"9bf7fb6e.7aac88","name":"(up|down)-.*","func":"payload = {\n    \"up-press\": {brightness_step: 40, transition: 0.5},\n    \"down-press\": {brightness_step: -40, transition: 0.5},\n    \"up-hold\": {brightness_move: 80},\n    \"down-hold\": {brightness_move: -80},\n    \"up-hold-release\": {brightness_move: 0},\n    \"down-hold-release\": {brightness_move: 0}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":810,"y":1360,"wires":[["336a8b4d.d56504"]]},{"id":"336a8b4d.d56504","type":"mqtt out","z":"9bf7fb6e.7aac88","name":"group-noah","topic":"zigbee2mqtt/group-noah/set","qos":"","retain":"","respTopic":"","contentType":"","userProps":"","correl":"","expiry":"","broker":"8932bf10.56a6b","x":1070,"y":1300,"wires":[]},{"id":"33d19d47.fbeea2","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"noah-1","topic":"zigbee2mqtt/noah-1","qos":"2","datatype":"json","broker":"8932bf10.56a6b","nl":false,"rap":false,"x":90,"y":1160,"wires":[["7994956e.5d74cc"]]},{"id":"5db24814.bd8fa8","type":"counter","z":"9bf7fb6e.7aac88","name":"Counter","init":"-2","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":600,"y":1160,"wires":[["aca5d059.c41b4"]]},{"id":"7994956e.5d74cc","type":"switch","z":"9bf7fb6e.7aac88","name":"OFF?","property":"payload.state","propertyType":"msg","rules":[{"t":"eq","v":"OFF","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":1160,"wires":[["8f4e7bc.3fb9d88"]]},{"id":"8f4e7bc.3fb9d88","type":"change","z":"9bf7fb6e.7aac88","name":"Reset","rules":[{"t":"set","p":"reset","pt":"msg","to":"-2","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":1160,"wires":[["5db24814.bd8fa8"]]},{"id":"aca5d059.c41b4","type":"switch","z":"9bf7fb6e.7aac88","name":"ON?","property":"count","propertyType":"msg","rules":[{"t":"gte","v":"-1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":730,"y":1160,"wires":[["9bfc8ef6.375c6"]]},{"id":"4d46e9f1.c2a218","type":"function","z":"9bf7fb6e.7aac88","name":"(on|off)-hold.*","func":"payload = {\n    \"on-hold\": {color_temp_move: 60},\n    \"off-hold\": {color_temp_move: -60},\n    \"on-hold-release\": {color_temp_move: \"stop\"},\n    \"off-hold-release\": {color_temp_move: \"stop\"}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":810,"y":1320,"wires":[["336a8b4d.d56504"]]},{"id":"d2b81a0c.fa4bd8","type":"switch","z":"9bf7fb6e.7aac88","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"on-press","vt":"str"},{"t":"eq","v":"off-press","vt":"str"},{"t":"regex","v":"(on|off)-hold.*","vt":"str","case":false},{"t":"regex","v":"(up|down)-.*","vt":"str","case":false}],"checkall":"true","repair":false,"outputs":4,"x":530,"y":680,"wires":[["7552153.4e951ec","f6acd4d6f608e575"],["4513a2f6.285aec"],["d82fe7f7.84eb18"],["e956b082.c755c"]]},{"id":"ed1d1058.9f5aa","type":"function","z":"9bf7fb6e.7aac88","name":"on-press","func":"const startup_scene = {brightness: 254, color_temp: 370};\nconst additional_scenes = [\n    {brightness: 254, color: {x: 0.314951744809611, y: 0.325010746064094}, color_temp: 346}, // activate\n    {brightness: 254, color: {x: 0.314951744809611, y: 0.325010746064094}, color_temp: 156}, // reading\n    {brightness: 213, color: {x:0.435684, y: 0.281409}, color_temp: 416}, // spring flowers\n    {brightness: 77, color :{x: 0.458227749642249, y: 0.410224893445347}, color_temp: 367} // dimmed\n] || []; // && to exclude, || to include additional scenes\n\nconst scenes = [\n    startup_scene\n    , ...additional_scenes\n];\n\nvar payload = {state: \"ON\", transition: 0.5};\nif (msg.count > -1) {\n    Object.assign(\n        payload,\n        scenes[msg.count % scenes.length] // round robin\n    );\n}\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":640,"wires":[["e91cbd9c.8a503"]]},{"id":"4513a2f6.285aec","type":"function","z":"9bf7fb6e.7aac88","name":"off-press","func":"return {payload: {state: \"OFF\", transition: 0.5}};","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":680,"wires":[["e91cbd9c.8a503"]]},{"id":"e956b082.c755c","type":"function","z":"9bf7fb6e.7aac88","name":"(up|down)-.*","func":"payload = {\n    \"up-press\": {brightness_step: 40, transition: 0.5},\n    \"down-press\": {brightness_step: -40, transition: 0.5},\n    \"up-hold\": {brightness_move: 80},\n    \"down-hold\": {brightness_move: -80},\n    \"up-hold-release\": {brightness_move: 0},\n    \"down-hold-release\": {brightness_move: 0}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1010,"y":760,"wires":[["e91cbd9c.8a503"]]},{"id":"ce73a8c4.9f65a8","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"schlafzimmer-dimmer-2","topic":"zigbee2mqtt/schlafzimmer-dimmer-2/action","qos":"2","datatype":"auto","broker":"8932bf10.56a6b","nl":false,"rap":false,"x":300,"y":720,"wires":[["d2b81a0c.fa4bd8"]]},{"id":"e91cbd9c.8a503","type":"mqtt out","z":"9bf7fb6e.7aac88","name":"group-schlafzimmer","topic":"zigbee2mqtt/group-schlafzimmer/set","qos":"","retain":"","respTopic":"","contentType":"","userProps":"","correl":"","expiry":"","broker":"8932bf10.56a6b","x":1300,"y":700,"wires":[]},{"id":"47633ec0.d10ce","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"schlafzimmer-1","topic":"zigbee2mqtt/schlafzimmer-1","qos":"2","datatype":"json","broker":"8932bf10.56a6b","nl":false,"rap":false,"x":120,"y":560,"wires":[["1b5574b7.ab40fb"]]},{"id":"7552153.4e951ec","type":"counter","z":"9bf7fb6e.7aac88","name":"Counter","init":"-2","step":"1","lower":null,"upper":null,"mode":"increment","outputs":"1","x":600,"y":560,"wires":[["c7844871.e15cf8"]]},{"id":"1b5574b7.ab40fb","type":"switch","z":"9bf7fb6e.7aac88","name":"OFF?","property":"payload.state","propertyType":"msg","rules":[{"t":"eq","v":"OFF","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":560,"wires":[["e40533f0.26caf"]]},{"id":"e40533f0.26caf","type":"change","z":"9bf7fb6e.7aac88","name":"Reset","rules":[{"t":"set","p":"reset","pt":"msg","to":"-2","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":560,"wires":[["7552153.4e951ec"]]},{"id":"c7844871.e15cf8","type":"switch","z":"9bf7fb6e.7aac88","name":"ON?","property":"count","propertyType":"msg","rules":[{"t":"gte","v":"-1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":730,"y":560,"wires":[["ed1d1058.9f5aa"]]},{"id":"d82fe7f7.84eb18","type":"function","z":"9bf7fb6e.7aac88","name":"(on|off)-hold.*","func":"payload = {\n    \"on-hold\": {color_temp_move: 60},\n    \"off-hold\": {color_temp_move: -60},\n    \"on-hold-release\": {color_temp_move: \"stop\"},\n    \"off-hold-release\": {color_temp_move: \"stop\"}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1010,"y":720,"wires":[["e91cbd9c.8a503"]]},{"id":"bd62e44c.b67ca8","type":"switch","z":"9bf7fb6e.7aac88","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"on-press","vt":"str"},{"t":"eq","v":"off-press","vt":"str"},{"t":"regex","v":"(on|off)-hold.*","vt":"str","case":false},{"t":"regex","v":"(up|down)-.*","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":4,"x":530,"y":260,"wires":[["5981e98d.de45f8"],["d8f7279b.a365c8"],["6d395cfa.5a16d4"],["d4f84f48.7477"]]},{"id":"a82be725.2f5dc8","type":"function","z":"9bf7fb6e.7aac88","name":"on-press","func":"const startup_scene = {brightness: 254, color_temp: 370};\nconst additional_scenes = [\n    {brightness: 254, color: {x: 0.314951744809611, y: 0.325010746064094}, color_temp: 346}, // activate\n    {brightness: 254, color: {x: 0.314951744809611, y: 0.325010746064094}, color_temp: 156}, // reading\n    {brightness: 213, color: {x:0.435684, y: 0.281409}, color_temp: 416}, // spring flowers\n    {brightness: 77, color :{x: 0.458227749642249, y: 0.410224893445347}, color_temp: 367} // dimmed\n] || []; // && to exclude, || to include additional scenes\n\nconst scenes = [\n    startup_scene\n    , ...additional_scenes\n];\n\nvar payload = {state: \"ON\", transition: 0.5};\nif (msg.count > -1) {\n    Object.assign(\n        payload,\n        scenes[msg.count % scenes.length] // round robin\n    );\n}\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":800,"y":220,"wires":[["b5a40e70.3ce94"]]},{"id":"d8f7279b.a365c8","type":"function","z":"9bf7fb6e.7aac88","name":"off-press","func":"return {payload: {state: \"OFF\", transition: 0.5}};","outputs":1,"noerr":0,"initialize":"","finalize":"","x":800,"y":260,"wires":[["b5a40e70.3ce94"]]},{"id":"d4f84f48.7477","type":"function","z":"9bf7fb6e.7aac88","name":"(up|down)-.*","func":"payload = {\n    \"up-press\": {brightness_step: 40, transition: 0.5},\n    \"down-press\": {brightness_step: -40, transition: 0.5},\n    \"up-hold\": {brightness_move: 80},\n    \"down-hold\": {brightness_move: -80},\n    \"up-hold-release\": {brightness_move: 0},\n    \"down-hold-release\": {brightness_move: 0}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":810,"y":340,"wires":[["b5a40e70.3ce94"]]},{"id":"56a546b5.fdab58","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"wohnzimmer-dimmer","topic":"zigbee2mqtt/wohnzimmer-dimmer/action","qos":"2","datatype":"auto","broker":"8932bf10.56a6b","x":300,"y":260,"wires":[["bd62e44c.b67ca8"]]},{"id":"b5a40e70.3ce94","type":"mqtt out","z":"9bf7fb6e.7aac88","name":"group-wohnzimmer","topic":"zigbee2mqtt/group-wohnzimmer/set","qos":"","retain":"","respTopic":"","contentType":"","userProps":"","correl":"","expiry":"","broker":"8932bf10.56a6b","x":1090,"y":280,"wires":[]},{"id":"2abe4b94.542774","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"wohnzimmer-regal","topic":"zigbee2mqtt/wohnzimmer-regal","qos":"2","datatype":"json","broker":"8932bf10.56a6b","x":130,"y":140,"wires":[["5592924e.04811c"]]},{"id":"5981e98d.de45f8","type":"counter","z":"9bf7fb6e.7aac88","name":"Counter","init":"-2","step":"1","lower":null,"upper":null,"mode":"increment","outputs":"1","x":600,"y":140,"wires":[["57e3ce89.38eb5"]]},{"id":"5592924e.04811c","type":"switch","z":"9bf7fb6e.7aac88","name":"OFF?","property":"payload.state","propertyType":"msg","rules":[{"t":"eq","v":"OFF","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":140,"wires":[["46393295.0e655c"]]},{"id":"46393295.0e655c","type":"change","z":"9bf7fb6e.7aac88","name":"Reset","rules":[{"t":"set","p":"reset","pt":"msg","to":"-2","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":140,"wires":[["5981e98d.de45f8"]]},{"id":"57e3ce89.38eb5","type":"switch","z":"9bf7fb6e.7aac88","name":"ON?","property":"count","propertyType":"msg","rules":[{"t":"gte","v":"-1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":770,"y":140,"wires":[["a82be725.2f5dc8"]]},{"id":"6d395cfa.5a16d4","type":"function","z":"9bf7fb6e.7aac88","name":"(on|off)-hold.*","func":"payload = {\n    \"on-hold\": {color_temp_move: 60},\n    \"off-hold\": {color_temp_move: -60},\n    \"on-hold-release\": {color_temp_move: \"stop\"},\n    \"off-hold-release\": {color_temp_move: \"stop\"}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":300,"wires":[["b5a40e70.3ce94"]]},{"id":"9c805b00.1164e8","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"","topic":"zigbee2mqtt/wuerfel-schalter","qos":"2","datatype":"json","broker":"8932bf10.56a6b","nl":false,"rap":true,"rh":0,"x":160,"y":1660,"wires":[["e1c00636.913d98"]]},{"id":"e1c00636.913d98","type":"switch","z":"9bf7fb6e.7aac88","name":"","property":"payload.action","propertyType":"msg","rules":[{"t":"eq","v":"","vt":"str"},{"t":"eq","v":"wakeup","vt":"str"},{"t":"eq","v":"tap","vt":"str"},{"t":"eq","v":"flip90","vt":"str"},{"t":"eq","v":"flip180","vt":"str"},{"t":"eq","v":"rotate_left","vt":"str"},{"t":"eq","v":"rotate_right","vt":"str"}],"checkall":"true","repair":false,"outputs":7,"x":450,"y":1660,"wires":[["66fa70dc.45fa"],[],[],[],[],[],[]]},{"id":"66fa70dc.45fa","type":"change","z":"9bf7fb6e.7aac88","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.side","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":650,"y":1660,"wires":[["6eebcb1.38fce34"]]},{"id":"6eebcb1.38fce34","type":"debug","z":"9bf7fb6e.7aac88","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":750,"y":1580,"wires":[]},{"id":"930dc605.f37e98","type":"debug","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Terrasse – links","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1370,"y":1720,"wires":[]},{"id":"6f4e279d.892e58","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Sonnenstandsteuerung","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_select.blind_control_mode_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"mode","valueType":"str"}],"x":1980,"y":780,"wires":[["59ef0664.5b1bf8"]]},{"id":"1151bc6f.c175d4","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Werktag (heute)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.is_workday_today","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"data","propertyType":"msg","value":"","valueType":"eventData"},{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"}],"x":2000,"y":1700,"wires":[["30aa6cf2.546b44"]]},{"id":"30aa6cf2.546b44","type":"change","z":"79ddab3e.2ca0c4","name":"flow.dayInfo.today.isWorkday","rules":[{"t":"set","p":"dayInfo.today.isWorkday","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2260,"y":1700,"wires":[[]]},{"id":"b6fe5f32.faeab","type":"change","z":"79ddab3e.2ca0c4","name":"flow.dayInfo.tomorrow.isWorkday","rules":[{"t":"set","p":"dayInfo.tomorrow.isWorkday","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":1760,"wires":[[]]},{"id":"edb8b9f2.f56048","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Werktag (morgen)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.is_workday_tomorrow","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"data","propertyType":"msg","value":"","valueType":"eventData"},{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"}],"x":2000,"y":1760,"wires":[["b6fe5f32.faeab"]]},{"id":"8651207e.ecb56","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"frühestens von (Werktag)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_datetime.blind_control_from_earliest_workday_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"fromEarliestWorkday","valueType":"str"}],"x":1970,"y":840,"wires":[["eeb04577.e27bc8"]]},{"id":"3116bee7.185eb2","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"spätestens bis (Werktag)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_datetime.blind_control_until_latest_workday_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"untilLatestWorkday","valueType":"str"}],"x":1970,"y":900,"wires":[["143cec6e.e94174"]]},{"id":"601d4000.d7862","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"frühestens von (Feiertag)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_datetime.blind_control_from_earliest_holiday_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"fromEarliestHoliday","valueType":"str"}],"x":1970,"y":960,"wires":[["9553c3af.b4e0e"]]},{"id":"ee2d0a99.94f108","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"spätestens bis (Feiertag)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_datetime.blind_control_until_latest_holiday_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"untilLatestHoliday","valueType":"str"}],"x":1970,"y":1020,"wires":[["5e4ed2ae.35d29c"]]},{"id":"e3e74aca.2ae0c8","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.wohnzimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":1660,"wires":[["930dc605.f37e98","647d9e4d.7cdbb"]]},{"id":"b7461eaa.f9dbc","type":"debug","z":"79ddab3e.2ca0c4","name":"Steuerung","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":3350,"y":240,"wires":[]},{"id":"39dea74a.5370c8","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.wohnzimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":1600,"wires":[["a087f248.45f72","5154f42.a7cb10c"]]},{"id":"a087f248.45f72","type":"debug","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Terrasse – rechts","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1370,"y":1540,"wires":[]},{"id":"d9d590d8.c6178","type":"debug","z":"79ddab3e.2ca0c4","name":"Schlafzimmer","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1320,"y":1800,"wires":[]},{"id":"7d8da7cc.3697e8","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.schlafzimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":1860,"wires":[["d9d590d8.c6178","278c67c7.27e608"]]},{"id":"7d786999.13a9f8","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Höchsttemperatur (Vorhersage)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"sensor.weather_forecast_temperature_high","entityidfiltertype":"exact","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"temperatureMax","valueType":"str"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"}],"x":1950,"y":1180,"wires":[["fd04dc1.3be172"]]},{"id":"5b82690d.e999e8","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Tiefsttemperatur (Vorhersage)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"sensor.weather_forecast_temperature_low","entityidfiltertype":"exact","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"temperatureMin","valueType":"str"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"}],"x":1960,"y":1240,"wires":[["fd04dc1.3be172"]]},{"id":"385c87d5.6c0e88","type":"switch","z":"79ddab3e.2ca0c4","name":"temperature < 16 °C?","property":"payload.temperature","propertyType":"msg","rules":[{"t":"lt","v":"16","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2240,"y":1440,"wires":[["f44628aa.f71908"],["2f712298.10c6be"]]},{"id":"c4a66df1.cec7d","type":"switch","z":"79ddab3e.2ca0c4","name":"temperatureMin < 8 °C?","property":"payload.temperatureMin","propertyType":"msg","rules":[{"t":"lt","v":"8","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2250,"y":1380,"wires":[["7936bb15.899f44"],["385c87d5.6c0e88"]]},{"id":"c0aec1de.9be17","type":"switch","z":"79ddab3e.2ca0c4","name":"solarPowerNextHour < 350 W?","property":"payload.solarPowerNextHour","propertyType":"msg","rules":[{"t":"lt","v":"350","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2270,"y":1560,"wires":[["f44628aa.f71908"],["bed79daf.c6b7d"]]},{"id":"d3845079.e7563","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Automatik Sonnenstandsteuerung","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_boolean.blind_control_auto_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"auto","valueType":"str"}],"x":1940,"y":720,"wires":[["59d10a57.ef1e54"]]},{"id":"fd04dc1.3be172","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"num","reduceFixup":"","x":2190,"y":1220,"wires":[["b9231714.1f2478"]]},{"id":"b9231714.1f2478","type":"switch","z":"79ddab3e.2ca0c4","name":"vollständig?","property":"$count($keys(msg.payload)) = 4","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2330,"y":1220,"wires":[["61b62ef1.adae4"]]},{"id":"f44628aa.f71908","type":"change","z":"79ddab3e.2ca0c4","name":"0 (aus)","rules":[{"t":"set","p":"mode","pt":"msg","to":"0 (aus)","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2510,"y":1480,"wires":[["761423cd.d3881c"]]},{"id":"7936bb15.899f44","type":"change","z":"79ddab3e.2ca0c4","name":"1 (Winter)","rules":[{"t":"set","p":"mode","pt":"msg","to":"1 (Winter)","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2520,"y":1380,"wires":[["761423cd.d3881c"]]},{"id":"bed79daf.c6b7d","type":"change","z":"79ddab3e.2ca0c4","name":"2 (Sommer)","rules":[{"t":"set","p":"mode","pt":"msg","to":"2 (Sommer)","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2530,"y":1560,"wires":[["761423cd.d3881c"]]},{"id":"1db35bfa.d0aa34","type":"api-call-service","z":"79ddab3e.2ca0c4","name":"setze Schalter","server":"a0992e23.0acf8","version":3,"debugenabled":false,"service_domain":"{{domain}}","service":"{{service}}","entityId":"{{entity_id}}","data":"msg.data","dataType":"jsonata","mergecontext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","x":3600,"y":600,"wires":[[]]},{"id":"ce0e9316.3ec58","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Sonnenleistung (nächste Stunde)","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"sensor.power_production_next_hour","entityidfiltertype":"exact","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"solarPowerNextHour","valueType":"str"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"}],"x":1950,"y":1120,"wires":[["fd04dc1.3be172"]]},{"id":"61b62ef1.adae4","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2510,"y":1220,"wires":[["c4a66df1.cec7d"]]},{"id":"175fcd54.ff9613","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.fibaro_door_window_sensor_2_access_control_window_door_is_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1660,"wires":[["7a8ae7b.f6d2418"]]},{"id":"76e1cfbd.5e675","type":"link out","z":"79ddab3e.2ca0c4","name":"","links":["bf339f52.8d3c3","eb4d638e.59791","ba177608.e92ab8","dd7c30f0.2eb05","be200807.b749a8","661839b6.633208","a1ae5ee8.854af","c188372f.98fd48","d49691fd.0934f","3dd26aec.942b06","95d229d3.7c7388","3ad59bfd.393924","e4f75033.5104a","2f4137b4.c4b378","6aefb8a1.904188","e52c7c5.cdae08","fc9c88a6.86e0d8","a0a23d41.66767","405db6c2.e8e7b8","f6b52548.51de08","4311b1da.6fb3d","919d6b96.053878","766c8887.e38e78","e5d34195.e1dbd","63916888.267688","14f40dc0.294162","be7ad3c4.d4286","cd3ac6f9.3d2558","b1b8e0d6.83f92","42c34c14.ad5d94","845c5fe1.7c90b","5b81bd3d.5a99c4","902b3788.3b5bb8","99c6882.54cde78","e9b0bfd7.1a1b3","2e93feda.d44822"],"x":135,"y":160,"wires":[]},{"id":"e0d80bf0.6f4108","type":"comment","z":"79ddab3e.2ca0c4","name":"Trigger","info":"","x":1870,"y":80,"wires":[]},{"id":"6b112f75.88842","type":"comment","z":"79ddab3e.2ca0c4","name":"Kontext","info":"","x":1870,"y":380,"wires":[]},{"id":"c3a214dc.3e49f8","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_7_access_control_window_door_is_open_4","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1480,"wires":[["f48275fc.3b24f8"]]},{"id":"4d971092.e14ef","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.wohnzimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":1480,"wires":[["c152cacf.508288","c1bef3e9.5100d"]]},{"id":"c152cacf.508288","type":"debug","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Esstisch","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1350,"y":1420,"wires":[]},{"id":"e793a7c0.212528","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_access_control_window_door_is_open_3","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1280,"wires":[["ed068856.607ad8"]]},{"id":"9d69a582.3d4b98","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.kueche') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":1280,"wires":[["805bcb4e.c9bae8","5ee9b008.5f4d7"]]},{"id":"805bcb4e.c9bae8","type":"debug","z":"79ddab3e.2ca0c4","name":"Küche – links","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1310,"y":1340,"wires":[]},{"id":"adcc7c38.74e0a","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.kueche') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":1220,"wires":[["eb369537.228c78","22015346.7f02bc"]]},{"id":"eb369537.228c78","type":"debug","z":"79ddab3e.2ca0c4","name":"Küche – rechts","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1320,"y":1160,"wires":[]},{"id":"c9db3695.83a1a8","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_access_control_window_door_is_open_4","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1220,"wires":[["f08ac1a8.b9091"]]},{"id":"51bf045.f7b99fc","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_7_access_control_window_door_is_open_5","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":240,"wires":[["83f37a28.e1a038"]]},{"id":"8719beb2.469b","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.badezimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":240,"wires":[["de30967e.849318","562f46a8.2ca9a8"]]},{"id":"de30967e.849318","type":"debug","z":"79ddab3e.2ca0c4","name":"Badezimmer","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1310,"y":180,"wires":[]},{"id":"5577b3ee.823b5c","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_access_control_window_door_is_open_2","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":400,"wires":[["b84086f8.fd1638"]]},{"id":"f82044.38329fc","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.duschbad') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":400,"wires":[["469b83d0.54c00c","56013b77.0255c4"]]},{"id":"469b83d0.54c00c","type":"debug","z":"79ddab3e.2ca0c4","name":"Duschbad","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1310,"y":340,"wires":[]},{"id":"17fd404f.efe5d","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.nino') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":620,"wires":[["bc6ed0d4.7b2a4","bec27538.788338"]]},{"id":"bc6ed0d4.7b2a4","type":"debug","z":"79ddab3e.2ca0c4","name":"Nino – links","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1310,"y":680,"wires":[]},{"id":"b52cb0a1.382cb","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('alert') or $flowContext('options.active.nino') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":560,"wires":[["5d6b425d.136c1c","53ef1349.0cc05c"]]},{"id":"5d6b425d.136c1c","type":"debug","z":"79ddab3e.2ca0c4","name":"Nino – rechts","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1310,"y":500,"wires":[]},{"id":"bc8663a5.9c478","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_access_control_window_door_is_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1080,"wires":[["b8bd6d70.5c8d3"]]},{"id":"3e1b19ef.ad6db6","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.arbeitszimmer') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":1080,"wires":[["437b9082.22494","80693c86.251eb"]]},{"id":"437b9082.22494","type":"debug","z":"79ddab3e.2ca0c4","name":"Arbeitszimmer","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1320,"y":1020,"wires":[]},{"id":"2d808d1e.af01b2","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_access_control_window_door_is_open_5","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":880,"wires":[["6c4f0fcd.c6b12"]]},{"id":"e0506eb0.24dc7","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.noah') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":880,"wires":[["820c7047.214bd","6bc48c93.4fa614"]]},{"id":"820c7047.214bd","type":"debug","z":"79ddab3e.2ca0c4","name":"Noah – links","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1310,"y":940,"wires":[]},{"id":"276e7b69.24efd4","type":"switch","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv oder Alert/Override?","property":" $flowContext('alert') or $flowContext('options.active.noah') or msg.blindCtrl.blind.overwrite.active","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":1030,"y":820,"wires":[["eb4807ba.d8ccc8","491d4a0b.61f174"]]},{"id":"eb4807ba.d8ccc8","type":"debug","z":"79ddab3e.2ca0c4","name":"Noah – rechts","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"msg","x":1320,"y":760,"wires":[]},{"id":"b446f873.d01658","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung aktiv","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_boolean.blind_control_active_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"active","valueType":"str"}],"x":1970,"y":660,"wires":[["d4b93fb1.ba853"]]},{"id":"d4b93fb1.ba853","type":"change","z":"79ddab3e.2ca0c4","name":"msg.room","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2200,"y":660,"wires":[["5bf5ee73.f906"]]},{"id":"e06d988b.f45608","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2370,"y":780,"wires":[["c715ba47.4785c8"]]},{"id":"c715ba47.4785c8","type":"switch","z":"79ddab3e.2ca0c4","name":"vollständig?","property":"$count($keys(msg.payload)) = $count($flowContext(\"rooms\"))","propertyType":"jsonata","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2590,"y":780,"wires":[["5c995479.83034c"]]},{"id":"a7fe70e9.87fac","type":"change","z":"79ddab3e.2ca0c4","name":"triggerOnly","rules":[{"t":"set","p":"topic","pt":"msg","to":"triggerOnly","tot":"str"},{"t":"set","p":"room","pt":"msg","to":"global","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3070,"y":180,"wires":[["3b2457f4.7bf708"]]},{"id":"b73c2ea3.ec314","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Rolladensteuerung gesondert je Raum","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_boolean.blind_control_specific_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"specific","valueType":"str"}],"x":1930,"y":540,"wires":[["e1077381.aabae"]]},{"id":"e1077381.aabae","type":"change","z":"79ddab3e.2ca0c4","name":"msg.room","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2200,"y":540,"wires":[["1fafbd65.55bab3"]]},{"id":"59ef0664.5b1bf8","type":"change","z":"79ddab3e.2ca0c4","name":"msg.room","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2200,"y":780,"wires":[["e06d988b.f45608"]]},{"id":"761423cd.d3881c","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"autoMode","pt":"flow","to":"mode","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2760,"y":1440,"wires":[["6efe762.a068f88"]]},{"id":"59d10a57.ef1e54","type":"change","z":"79ddab3e.2ca0c4","name":"msg.room","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2200,"y":720,"wires":[["f660b0f5.02674"]]},{"id":"5c995479.83034c","type":"function","z":"79ddab3e.2ca0c4","name":"aktualisiere flow.options","func":"flow.get(\"options\")[msg.field] = msg.payload;\n\nreturn {};","outputs":1,"noerr":0,"initialize":"// Der Code hier wird ausgeführt,\n// wenn der Node gestartet wird\nflow.set(\"options\", flow.get(\"options\") || {});","finalize":"","libs":[],"x":2790,"y":780,"wires":[["a86c098b.8ba4c8"]]},{"id":"f660b0f5.02674","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2370,"y":720,"wires":[["c715ba47.4785c8"]]},{"id":"5bf5ee73.f906","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2370,"y":660,"wires":[["c715ba47.4785c8"]]},{"id":"1fafbd65.55bab3","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2370,"y":540,"wires":[["c715ba47.4785c8"]]},{"id":"2037cd9a.b30ad2","type":"inject","z":"79ddab3e.2ca0c4","name":"rooms","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":"0","topic":"","payload":"[\"global\", \"badezimmer\", \"duschbad\", \"nino\", \"noah\", \"arbeitszimmer\", \"kueche\", \"wohnzimmer\", \"schlafzimmer\"]","payloadType":"json","x":2030,"y":480,"wires":[["bc9cd8d5.1d0278"]]},{"id":"bc9cd8d5.1d0278","type":"change","z":"79ddab3e.2ca0c4","name":"flow.rooms","rules":[{"t":"set","p":"rooms","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2210,"y":480,"wires":[[]]},{"id":"728c1078.b44f8","type":"trigger","z":"79ddab3e.2ca0c4","name":"","op1":"rooms","op2":"","op1type":"flow","op2type":"nul","duration":"250","extend":true,"overrideDelay":false,"units":"ms","reset":"","bytopic":"all","topic":"topic","outputs":1,"x":2740,"y":440,"wires":[["2a63a172.fa0c5e"]]},{"id":"2a63a172.fa0c5e","type":"split","z":"79ddab3e.2ca0c4","name":"split rooms","splt":"\\n","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":2930,"y":440,"wires":[["22977410.1a619c"]]},{"id":"22977410.1a619c","type":"function","z":"79ddab3e.2ca0c4","name":"berechne Inputs neu","func":"var room = msg.payload;\n\nvar options = flow.get(\"options\");\nvar specific = options[\"specific\"][\"global\"] ? false : options[\"specific\"][room];\nvar lookup = (field => options[field][specific ? room : \"global\"]);\nvar auto = lookup(\"auto\");\n\nreturn [[\n    {\"room\": room, \"field\": \"specific\", \"payload\": specific},\n    {\"room\": room, \"field\": \"position\", \"payload\": lookup(\"position\")},\n    {\"room\": room, \"field\": \"auto\", \"payload\": auto},\n    {\"room\": room, \"field\": \"mode\", \"payload\": auto ? flow.get(\"autoMode\") : lookup(\"mode\")},\n    {\"room\": room, \"field\": \"active\", \"payload\": lookup(\"active\")},\n    {\"room\": room, \"field\": \"from_earliest_workday\", \"payload\": lookup(\"fromEarliestWorkday\")},\n    {\"room\": room, \"field\": \"until_latest_workday\", \"payload\": lookup(\"untilLatestWorkday\")},\n    {\"room\": room, \"field\": \"from_earliest_holiday\", \"payload\": lookup(\"fromEarliestHoliday\")},\n    {\"room\": room, \"field\": \"until_latest_holiday\", \"payload\": lookup(\"untilLatestHoliday\")}\n]];\n","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3120,"y":440,"wires":[["34f03d.96498fc4"]]},{"id":"cb001993.b57198","type":"function","z":"79ddab3e.2ca0c4","name":"generiere Service Call","func":"var domain = type => `input_${type}`;\n\nfunction entity (type, field, room) {\n    return domain(type) + `.blind_control_${field}_${room}`\n}\n\nfunction service (type, value) {\n    return {\n        \"boolean\": value ? \"turn_on\" : \"turn_off\",\n        \"select\": \"select_option\",\n        \"number\": \"set_value\",\n        \"datetime\": \"set_datetime\"\n    }[type]\n}\n\nfunction data (type, value) {\n    switch (type) {\n        case \"select\":\n            return {\"option\": value};\n        case \"number\":\n            return {\"value\": value};\n        case \"datetime\":\n            return {\"time\": value};\n    }\n}\n\nfunction message (room, field, value) {\n    var type = {\n        \"specific\": \"boolean\",\n        \"auto\": \"boolean\",\n        \"mode\": \"select\",\n        \"active\": \"boolean\",\n        \"position\": \"number\",\n        \"from_earliest_workday\": \"datetime\",\n        \"until_latest_workday\": \"datetime\",\n        \"from_earliest_holiday\": \"datetime\",\n        \"until_latest_holiday\": \"datetime\"\n    }[field];\n    return {\n        \"domain\": domain(type),\n        \"service\": service(type, value),\n        \"entity_id\": entity(type, field, room),\n        \"data\": data(type, value)\n    }\n}\n\nreturn message(msg.room, msg.field, msg.payload);\n","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3400,"y":600,"wires":[["1db35bfa.d0aa34"]]},{"id":"a86c098b.8ba4c8","type":"link out","z":"79ddab3e.2ca0c4","name":"","links":["ff6e5cc9.4478f"],"x":2935,"y":780,"wires":[]},{"id":"ff6e5cc9.4478f","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["a86c098b.8ba4c8","6efe762.a068f88","cd1137f4.399fe8"],"x":2615,"y":440,"wires":[["728c1078.b44f8"]]},{"id":"146418ff.2a3997","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Override: Position","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^input_number.blind_control_position_[a-z]+$","entityidfiltertype":"regex","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":false,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"field","propertyType":"msg","value":"position","valueType":"str"}],"x":1990,"y":600,"wires":[["41f6a980.39d0e8"]]},{"id":"41f6a980.39d0e8","type":"change","z":"79ddab3e.2ca0c4","name":"msg.room","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2200,"y":600,"wires":[["9e95ec9.261b21"]]},{"id":"a3154844.b958b8","type":"link in","z":"79ddab3e.2ca0c4","name":"Kontextänderung","links":["79875059.6dd7","6ac1134a.417f2c"],"x":3115,"y":260,"wires":[["3b2457f4.7bf708"]]},{"id":"cd3ac6f9.3d2558","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":1160,"wires":[["12c64dcb.aac152"]]},{"id":"3b2457f4.7bf708","type":"no-op","z":"79ddab3e.2ca0c4","name":"","x":3250,"y":180,"wires":[["b7461eaa.f9dbc","6519afc9.b92dd"]]},{"id":"12c64dcb.aac152","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(kueche|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":1160,"wires":[["f08ac1a8.b9091","ed068856.607ad8"]]},{"id":"c1ca23b4.9fab3","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(wohnzimmer|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":1420,"wires":[["8a0c6daa.f80d2","7a8ae7b.f6d2418","f48275fc.3b24f8"]]},{"id":"b1b8e0d6.83f92","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":1420,"wires":[["c1ca23b4.9fab3"]]},{"id":"fa839915.e84128","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(schlafzimmer|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":1800,"wires":[["c991f710.fbeda8"]]},{"id":"42c34c14.ad5d94","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":1800,"wires":[["fa839915.e84128"]]},{"id":"361f5f1d.898cf","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(badezimmer|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":180,"wires":[["83f37a28.e1a038"]]},{"id":"845c5fe1.7c90b","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":180,"wires":[["361f5f1d.898cf"]]},{"id":"41868de8.4a21a4","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(duschbad|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":340,"wires":[["b84086f8.fd1638"]]},{"id":"5b81bd3d.5a99c4","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":340,"wires":[["41868de8.4a21a4"]]},{"id":"84f6025.886c7","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(nino|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":500,"wires":[["530d0076.f4c11","930b0dd4.d787"]]},{"id":"902b3788.3b5bb8","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":500,"wires":[["84f6025.886c7"]]},{"id":"d9184e83.1f921","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(noah|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":760,"wires":[["52fdd7e6.9f26f8","6c4f0fcd.c6b12"]]},{"id":"99c6882.54cde78","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":760,"wires":[["d9184e83.1f921"]]},{"id":"bad33b7.474eac8","type":"switch","z":"79ddab3e.2ca0c4","name":"room?","property":"room","propertyType":"msg","rules":[{"t":"regex","v":"^(arbeitszimmer|global)$","vt":"str","case":false}],"checkall":"false","repair":false,"outputs":1,"x":410,"y":1020,"wires":[["b8bd6d70.5c8d3"]]},{"id":"e9b0bfd7.1a1b3","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["76e1cfbd.5e675"],"x":315,"y":1020,"wires":[["bad33b7.474eac8"]]},{"id":"9e95ec9.261b21","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2370,"y":600,"wires":[["c715ba47.4785c8"]]},{"id":"34f03d.96498fc4","type":"switch","z":"79ddab3e.2ca0c4","name":"Steuernachricht?","property":"field","propertyType":"msg","rules":[{"t":"eq","v":"position","vt":"str"},{"t":"eq","v":"mode","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":3,"x":2950,"y":580,"wires":[["a0d99161.bcc13"],["91813548.074448"],["cb001993.b57198"]]},{"id":"79875059.6dd7","type":"link out","z":"79ddab3e.2ca0c4","name":"","links":["df9da4f4.93f5c8","726300f6.eb244","cf2d806a.d6fad","75758e65.16128","3aad7d02.afaef2","2aacee48.8e2122","9d95ce88.fa71c","ff22d323.85a78","a3154844.b958b8"],"x":3515,"y":540,"wires":[]},{"id":"a0d99161.bcc13","type":"function","z":"79ddab3e.2ca0c4","name":"position","func":"var header = {\n    \"room\": msg.room,\n    \"reason\": \"manual\"\n};\n\npositionMessages = []\nswitch (msg.payload) {\n    case -20:\n        msg.payload = -10;\n        positionMessages.push({\n            ...header,\n            \"position\": -1\n        })\n        positionMessages.push({\n            ...header,\n            \"reset\": true\n        });\n        break\n    case -10:\n        break;\n    default:\n        positionMessages.push({\n            ...header,\n            \"position\": msg.payload / 100,\n            \"importance\": 1000\n        });\n}\n\nreturn [positionMessages, msg];\n","outputs":2,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3180,"y":520,"wires":[["180efc32.3c6dd4"],["cb001993.b57198"]]},{"id":"180efc32.3c6dd4","type":"switch","z":"79ddab3e.2ca0c4","name":"room != global?","property":"room","propertyType":"msg","rules":[{"t":"neq","v":"global","vt":"str"}],"checkall":"false","repair":false,"outputs":1,"x":3400,"y":540,"wires":[["79875059.6dd7"]]},{"id":"f0e61790.f3e668","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":[],"x":-35,"y":140,"wires":[[]]},{"id":"2957dfef.1b5b6","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":[],"x":-35,"y":280,"wires":[[]]},{"id":"682cbbf.605b544","type":"link in","z":"79ddab3e.2ca0c4","name":"","links":["6519afc9.b92dd"],"x":75,"y":160,"wires":[["76e1cfbd.5e675"]]},{"id":"6519afc9.b92dd","type":"link out","z":"79ddab3e.2ca0c4","name":"Steuerung","links":["682cbbf.605b544"],"x":3355,"y":180,"wires":[]},{"id":"91813548.074448","type":"function","z":"79ddab3e.2ca0c4","name":"mode","func":"return [\n    {\"room\": msg.room, \"mode\": parseInt(msg.payload, 0)},\n    msg\n];\n","outputs":2,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3170,"y":560,"wires":[["180efc32.3c6dd4"],["cb001993.b57198"]]},{"id":"84c36164.fcef2","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Regen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"input_boolean.blind_control_raining","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"condition","propertyType":"msg","value":"raining","valueType":"str"}],"x":2030,"y":180,"wires":[["1d04ceb5.641b11"]]},{"id":"6efe762.a068f88","type":"link out","z":"79ddab3e.2ca0c4","name":"","links":["ff6e5cc9.4478f"],"x":2895,"y":1440,"wires":[]},{"id":"143cec6e.e94174","type":"change","z":"79ddab3e.2ca0c4","name":"msg.room","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2200,"y":900,"wires":[["a3bcd580.725a88"]]},{"id":"1cb82a3b.a3a476","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2370,"y":1020,"wires":[["c715ba47.4785c8"]]},{"id":"5e4ed2ae.35d29c","type":"change","z":"79ddab3e.2ca0c4","name":"msg.room","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2200,"y":1020,"wires":[["1cb82a3b.a3a476"]]},{"id":"9553c3af.b4e0e","type":"change","z":"79ddab3e.2ca0c4","name":"msg.room","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2200,"y":960,"wires":[["f6e42c7b.fbcd7"]]},{"id":"f6e42c7b.fbcd7","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2370,"y":960,"wires":[["c715ba47.4785c8"]]},{"id":"a3bcd580.725a88","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2370,"y":900,"wires":[["c715ba47.4785c8"]]},{"id":"eeb04577.e27bc8","type":"change","z":"79ddab3e.2ca0c4","name":"msg.room","rules":[{"t":"set","p":"room","pt":"msg","to":"$split(msg.topic, \"_\")[-1]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":2200,"y":840,"wires":[["a44db1d2.ddc18"]]},{"id":"a44db1d2.ddc18","type":"join","z":"79ddab3e.2ca0c4","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"room","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2370,"y":840,"wires":[["c715ba47.4785c8"]]},{"id":"8a0c6daa.f80d2","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Terrasse – rechts","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"marquee","validOperandAType":"msg","validOperator":"equal","validOperatorText":"=","validOperandBValue":"open","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>msg.marquee</var> = \"open\"</div><div>↕  Absolut <var>offen (max)</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.wohnzimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....mEarliestWorkday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.wohnzimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....mEarliestHoliday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":true,"valid":{"validTimeReg":60000,"validLevel":true,"validOperand1A":true,"validOperand1B":true},"timeValue":"nauticalDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.wohnzimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>nautische Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....tilLatestWorkday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":true,"valid":{"validTimeReg":60000,"validLevel":true,"validOperand1A":true,"validOperand1B":true},"timeValue":"nauticalDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.wohnzimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>nautische Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....tilLatestHoliday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"1.98","windowBottom":"0.27","windowAzimuthStart":"131","windowAzimuthEnd":"279","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":670,"y":1600,"wires":[["39dea74a.5370c8"]]},{"id":"7a8ae7b.f6d2418","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Terrasse – links","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"windowOpen","validOperandAType":"msg","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>msg.windowOpen</var> ist true</div><div>↕  Absolut <var>offen (max)</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"marquee","validOperandAType":"msg","validOperator":"equal","validOperatorText":"=","validOperandBValue":"open","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>msg.marquee</var> = \"open\"</div><div>↕  Absolut <var>offen (max)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.wohnzimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....mEarliestWorkday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.wohnzimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....mEarliestHoliday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":6,"name":"","isValid":true,"valid":{"validTimeReg":60000,"validLevel":true,"validOperand1A":true,"validOperand1B":true},"timeValue":"nauticalDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.wohnzimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>nautische Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....tilLatestWorkday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":true,"valid":{"validTimeReg":60000,"validLevel":true,"validOperand1A":true,"validOperand1B":true},"timeValue":"nauticalDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.wohnzimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>nautische Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....tilLatestHoliday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"1.98","windowBottom":"0.27","windowAzimuthStart":"131","windowAzimuthEnd":"279","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":670,"y":1660,"wires":[["e3e74aca.2ae0c8"]]},{"id":"c991f710.fbeda8","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Schlafzimmer","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"sunriseStart","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>Sonnenaufgang Begin</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.schlafzimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....arliestWorkday.schlafzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.schlafzimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....arliestHoliday.schlafzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":true,"valid":{"validTimeReg":60000,"validLevel":true,"validOperand1A":true,"validOperand1B":true},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.schlafzimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....lLatestWorkday.schlafzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":true,"valid":{"validTimeReg":60000,"validLevel":true,"validOperand1A":true,"validOperand1B":true},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.schlafzimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....lLatestHoliday.schlafzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.01","windowBottom":"0.51","windowAzimuthStart":"128","windowAzimuthEnd":"282","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":620,"y":1860,"wires":[["7d8da7cc.3697e8"]]},{"id":"8b6f1e7a.974c6","type":"comment","z":"79ddab3e.2ca0c4","name":"Rolläden","info":"","x":200,"y":80,"wires":[]},{"id":"76b5c7b0.3f5978","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Sturm","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.weather_storm","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":"","forType":"num","forUnits":"seconds","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"condition","propertyType":"msg","value":"storm","valueType":"str"},{"property":"delay","propertyType":"msg","value":"300000","valueType":"num"}],"x":2030,"y":240,"wires":[["4242754e.a8de8c"]]},{"id":"7f08c86c.4cf0b8","type":"change","z":"79ddab3e.2ca0c4","name":"alert & reset","rules":[{"t":"set","p":"alert","pt":"flow","to":"payload","tot":"msg"},{"t":"set","p":"reset","pt":"msg","to":"payload","tot":"msg"},{"t":"delete","p":"delay","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2450,"y":240,"wires":[["c6e76090.1acba"]]},{"id":"f48275fc.3b24f8","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Wohnzimmer – Esstisch","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.wohnzimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....mEarliestWorkday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.wohnzimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....mEarliestHoliday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.wohnzimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....tilLatestWorkday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.wohnzimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....tilLatestHoliday.wohnzimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"1.96","windowBottom":"0.51","windowAzimuthStart":"-140","windowAzimuthEnd":"10","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":650,"y":1480,"wires":[["4d971092.e14ef"]]},{"id":"ed068856.607ad8","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Küche – links","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.kueche","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.....fromEarliestWorkday.kueche</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.kueche","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.....fromEarliestHoliday.kueche</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.kueche","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....s.untilLatestWorkday.kueche</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.kueche","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....s.untilLatestHoliday.kueche</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.01","windowBottom":"1.02","windowAzimuthStart":"-140","windowAzimuthEnd":"10","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":1280,"wires":[["9d69a582.3d4b98"]]},{"id":"f08ac1a8.b9091","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Küche – rechts","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.kueche","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.....fromEarliestWorkday.kueche</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.kueche","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow.....fromEarliestHoliday.kueche</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.kueche","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....s.untilLatestWorkday.kueche</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.kueche","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....s.untilLatestHoliday.kueche</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.01","windowBottom":"1.02","windowAzimuthStart":"-50","windowAzimuthEnd":"100","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":620,"y":1220,"wires":[["adcc7c38.74e0a"]]},{"id":"b8bd6d70.5c8d3","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Arbeitszimmer","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.arbeitszimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....rliestWorkday.arbeitszimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.arbeitszimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....rliestHoliday.arbeitszimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.arbeitszimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....LatestWorkday.arbeitszimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.arbeitszimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....LatestHoliday.arbeitszimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.01","windowBottom":"0.51","windowAzimuthStart":"-50","windowAzimuthEnd":"100","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":620,"y":1080,"wires":[["3e1b19ef.ad6db6"]]},{"id":"6c4f0fcd.c6b12","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Noah – links","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.noah","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....ns.fromEarliestWorkday.noah</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.noah","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....ns.fromEarliestHoliday.noah</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.noah","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ons.untilLatestWorkday.noah</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.noah","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ons.untilLatestHoliday.noah</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.01","windowBottom":"0.97","windowAzimuthStart":"-50","windowAzimuthEnd":"100","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":880,"wires":[["e0506eb0.24dc7"]]},{"id":"52fdd7e6.9f26f8","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Noah – rechts","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.noah","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....ns.fromEarliestWorkday.noah</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.noah","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....ns.fromEarliestHoliday.noah</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.noah","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ons.untilLatestWorkday.noah</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.noah","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ons.untilLatestHoliday.noah</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.01","windowBottom":"0.97","windowAzimuthStart":"-50","windowAzimuthEnd":"100","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":620,"y":820,"wires":[["276e7b69.24efd4"]]},{"id":"530d0076.f4c11","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Nino – links","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.nino","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....ns.fromEarliestWorkday.nino</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.nino","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....ns.fromEarliestHoliday.nino</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.nino","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ons.untilLatestWorkday.nino</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.nino","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ons.untilLatestHoliday.nino</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.01","windowBottom":"0.97","windowAzimuthStart":"-50","windowAzimuthEnd":"100","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":620,"wires":[["17fd404f.efe5d"]]},{"id":"930b0dd4.d787","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Nino – rechts","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.nino","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....ns.fromEarliestWorkday.nino</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.nino","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....ns.fromEarliestHoliday.nino</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.nino","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ons.untilLatestWorkday.nino</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.nino","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....ons.untilLatestHoliday.nino</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"civilDusk","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>bürgerliche Abenddämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.01","windowBottom":"0.97","windowAzimuthStart":"40","windowAzimuthEnd":"190","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":560,"wires":[["b52cb0a1.382cb"]]},{"id":"b84086f8.fd1638","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Duschbad","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.duschbad","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....romEarliestWorkday.duschbad</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.duschbad","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....romEarliestHoliday.duschbad</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.duschbad","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....untilLatestWorkday.duschbad</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.duschbad","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....untilLatestHoliday.duschbad</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.01","windowBottom":"0.97","windowAzimuthStart":"40","windowAzimuthEnd":"190","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":400,"wires":[["f82044.38329fc"]]},{"id":"83f37a28.e1a038","type":"blind-control","z":"79ddab3e.2ca0c4","name":"Badezimmer","topic":"","positionConfig":"a962ddc.fbff22","outputs":1,"autoTrigger":false,"autoTriggerTime":"1200000","startDelayTime":"10000","blindIncrement":"0.05","blindOpenPos":"1","blindClosedPos":0,"blindPosDefault":"open (max)","blindPosDefaultType":"levelFixed","overwriteExpire":"","rules":[{"index":0,"name":"","isValid":false,"valid":{},"timeValue":"sunriseStart","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>Sonnenaufgang Begin</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"},{"index":1,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestWorkday.badezimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....mEarliestWorkday.badezimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":2,"name":"","isValid":false,"valid":{},"timeValue":"civilDawn","timeType":"pdsTime","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"options.fromEarliestHoliday.badezimmer","timeMinType":"flow","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.today.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.today.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↥ bis <var>bürgerliche Morgendämmerung</var><div class=\"indent-time-text\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i> <span>frühestens (min)</span> <var>flow....mEarliestHoliday.badezimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":3,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"50%","levelType":"levelFixed","levelOp":2,"levelOpText":"⭱️❗  Maximum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>flow.conditions.raining</var> ist true</div><div>⭱️❗  Maximum (übersteuernd) <var>50%</var></div>"},{"index":4,"name":"","isValid":false,"valid":{},"timeValue":"","timeType":"none","timeOp":0,"timeOpText":"↥ bis","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"open (max)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":true,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"num","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"conditions.raining","valid2OperandAType":"flow","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist true</div><div>↕  Absolut <var>offen (max)</var><div class=\"indent-resetOverwrite-text\"> <span>manuelle Überschreibung verfällt wenn die Regel aktiv wird</span> </div></div>"},{"index":5,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestWorkday.badezimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"true","validOperatorText":"ist true","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....tilLatestWorkday.badezimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":6,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"options.untilLatestHoliday.badezimmer","timeMaxType":"flow","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"closed (min)","levelType":"levelFixed","levelOp":0,"levelOpText":"↕  Absolut","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"dayInfo.tomorrow.isWorkday","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"","validOperandBType":"str","valid2LogOperator":0,"valid2LogOperatorText":"N/A","valid2OperandAValue":"","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.dayInfo.tomorrow.isWorkday</var> ist false</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var><div class=\"indent-time-text\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i> <span>spätestens (max)</span> <var>flow....tilLatestHoliday.badezimmer</var></div></div><div>↕  Absolut <var>geschlossen (min)</var></div>"},{"index":7,"name":"","isValid":false,"valid":{},"timeValue":"sunsetEnd","timeType":"pdsTime","timeOp":1,"timeOpText":"↧ von","offsetValue":"","offsetType":"none","multiplier":60000,"timeDays":"*","timeMonths":"*","timeOnlyEvenDays":false,"timeOnlyOddDays":false,"timeDateStart":"","timeDateEnd":"","timeMinValue":"","timeMinType":"none","offsetMinValue":"","offsetMinType":"none","multiplierMin":60000,"timeMaxValue":"","timeMaxType":"none","offsetMaxValue":"","offsetMaxType":"none","multiplierMax":60000,"levelValue":"0.15","levelType":"num","levelOp":1,"levelOpText":"⭳❗  Minimum (übersteuernd)","topic":"","importance":0,"resetOverwrite":false,"validOperandAValue":"conditions.storm","validOperandAType":"flow","validOperator":"false","validOperatorText":"ist false","validOperandBValue":"windowOpen","validOperandBType":"str","valid2LogOperator":2,"valid2LogOperatorText":"und","valid2OperandAValue":"windowOpen","valid2OperandAType":"msg","valid2Operator":"true","valid2OperatorText":"ist true","valid2OperandBValue":"","valid2OperandBType":"num","description":"<div><i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i> <var>flow.conditions.storm</var> ist false<br/><strong>und</strong> <var>msg.windowOpen</var> ist true</div><div><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> ↧ von <var>Sonnenuntergang Ende</var></div><div>⭳❗  Minimum (übersteuernd) <var>0.15</var></div>"}],"sunControlMode":"2","sunFloorLength":"0.3","sunMinAltitude":"","sunMinDelta":"","blindPosMin":"25%","blindPosMinType":"levelFixed","blindPosMax":"open (max)","blindPosMaxType":"levelFixed","smoothTime":"","sunTopic":"","windowTop":"2.01","windowBottom":"0.97","windowAzimuthStart":"40","windowAzimuthEnd":"190","oversteerValue":"","oversteerValueType":"none","oversteerCompare":"true","oversteerThreshold":"50","oversteerThresholdType":"num","oversteerBlindPos":"open (max)","oversteerBlindPosType":"levelFixed","oversteer2Value":"","oversteer2ValueType":"none","oversteer2Compare":"gte","oversteer2Threshold":"","oversteer2ThresholdType":"num","oversteer2BlindPos":"open (max)","oversteer2BlindPosType":"levelFixed","oversteer3Value":"","oversteer3ValueType":"none","oversteer3Compare":"gte","oversteer3Threshold":"","oversteer3ThresholdType":"num","oversteer3BlindPos":"open (max)","oversteer3BlindPosType":"levelFixed","oversteerTopic":"","x":610,"y":240,"wires":[["8719beb2.469b"]]},{"id":"1d04ceb5.641b11","type":"function","z":"79ddab3e.2ca0c4","name":"aktualisiere flow.conditions","func":"flow.get(\"conditions\")[msg.condition] = msg.payload;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"flow.set(\"conditions\", flow.get(\"conditions\") || {});","finalize":"","libs":[],"x":2820,"y":180,"wires":[["a7fe70e9.87fac"]]},{"id":"40761c1b.eef7f4","type":"inject","z":"79ddab3e.2ca0c4","name":"jede Minute","props":[],"repeat":"","crontab":"*/1 0-23 * * *","once":true,"onceDelay":0.1,"topic":"","x":2870,"y":120,"wires":[["a7fe70e9.87fac"]]},{"id":"c6e76090.1acba","type":"switch","z":"79ddab3e.2ca0c4","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"},{"t":"false"}],"checkall":"false","repair":false,"outputs":2,"x":2590,"y":240,"wires":[["1d04ceb5.641b11"],["8bf4cdcf.748b4","1d04ceb5.641b11"]]},{"id":"cd1137f4.399fe8","type":"link out","z":"79ddab3e.2ca0c4","name":"","links":["ff6e5cc9.4478f"],"x":2935,"y":260,"wires":[]},{"id":"8bf4cdcf.748b4","type":"function","z":"79ddab3e.2ca0c4","name":"setze Schalter zurück","func":"\nreturn [{\"payload\": false}, {\"payload\": true}];","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2800,"y":260,"wires":[["cd1137f4.399fe8"]]},{"id":"4242754e.a8de8c","type":"function","z":"79ddab3e.2ca0c4","name":"verzögere Deaktivierung","func":"if (typeof msg.delay == \"number\") {\n    context.set(\"delay\", msg.delay)\n}\nconst delay = context.get(\"delay\"); \n\nfunction setState (state) {\n    context.set(\"state\", state);\n    var deadline = context.get(\"deadline\");\n    var status = {\n        \"fill\": state ? \"red\" : \"green\",\n        \"shape\": deadline ? \"ring\" : \"dot\"  ,\n        \"text\": state + (deadline ? ` (until ${deadline})` : \"\")\n    };\n    node.status(status);\n}\n\nfunction set (timeout, deadline, state) {\n    context.set(\"timeout\", timeout);\n    context.set(\"deadline\", deadline);\n    setState(state);    \n}\n\nfunction send (msg) {\n    set(undefined, undefined, msg.payload);\n    node.send(msg);\n}\n\nvar state = context.get(\"state\");\nvar timeout = context.get(\"timeout\");\nvar deadline = context.get(\"deadline\");\n\nif (typeof msg.payload !== \"boolean\") {\n    return msg;\n} \n\nif (!state) {\n    setState(msg.payload);\n    return msg;\n}\n\nif (msg.payload) {\n    if (timeout) {\n        clearTimeout(timeout);\n        set(undefined, undefined, state);\n    }\n    return;\n}\n\nif (!timeout) {\n    set(\n        setTimeout(send, delay, msg),\n        new Date(Date.now() + delay).toLocaleTimeString('us-US', {\"hourCycle\": \"h23\"}),\n        state\n    );\n}\n","outputs":1,"noerr":0,"initialize":"context.set(\"delay\", 60000);\nnode.status({\"fill\": \"grey\", \"shape\": \"ring\"});","finalize":"","libs":[],"x":2250,"y":240,"wires":[["7f08c86c.4cf0b8"]]},{"id":"26ceed34.40d052","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"aktuelle Temperatur","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"sensor.weather_temperature","entityidfiltertype":"exact","outputinitially":true,"state_type":"num","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"temperature","valueType":"str"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"}],"x":1990,"y":1300,"wires":[["fd04dc1.3be172"]]},{"id":"2f712298.10c6be","type":"switch","z":"79ddab3e.2ca0c4","name":"temperatureMax < 22 °C?","property":"payload.temperatureMax","propertyType":"msg","rules":[{"t":"lt","v":"22","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2250,"y":1500,"wires":[["f44628aa.f71908"],["c0aec1de.9be17"]]},{"id":"cff80483.f75ae8","type":"api-call-service","z":"79ddab3e.2ca0c4","name":"setze Position","server":"a0992e23.0acf8","version":3,"debugenabled":false,"service_domain":"cover","service":"set_cover_position","entityId":"{{entity_id}}","data":"{\"position\": 100 * msg.payload}","dataType":"jsonata","mergecontext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","x":1600,"y":1200,"wires":[[]]},{"id":"80693c86.251eb","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1080,"wires":[["cff80483.f75ae8"]]},{"id":"22015346.7f02bc","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_7","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1220,"wires":[["cff80483.f75ae8"]]},{"id":"5ee9b008.5f4d7","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_6","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1280,"wires":[["cff80483.f75ae8"]]},{"id":"647d9e4d.7cdbb","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_3","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1660,"wires":[["cff80483.f75ae8"]]},{"id":"c1bef3e9.5100d","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_5","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1480,"wires":[["cff80483.f75ae8"]]},{"id":"5154f42.a7cb10c","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_4","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1600,"wires":[["cff80483.f75ae8"]]},{"id":"278c67c7.27e608","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_13","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1860,"wires":[["cff80483.f75ae8"]]},{"id":"6bc48c93.4fa614","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_9","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":880,"wires":[["cff80483.f75ae8"]]},{"id":"491d4a0b.61f174","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_8","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":820,"wires":[["cff80483.f75ae8"]]},{"id":"bec27538.788338","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_10","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":620,"wires":[["cff80483.f75ae8"]]},{"id":"53ef1349.0cc05c","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_11","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":560,"wires":[["cff80483.f75ae8"]]},{"id":"56013b77.0255c4","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_12","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":400,"wires":[["cff80483.f75ae8"]]},{"id":"562f46a8.2ca9a8","type":"change","z":"79ddab3e.2ca0c4","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_14","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":240,"wires":[["cff80483.f75ae8"]]},{"id":"3ac3fb86.fd6404","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_7_access_control_window_door_is_open_3","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":1860,"wires":[["c991f710.fbeda8"]]},{"id":"cb118418.8c98c8","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_access_control_window_door_is_open_6","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":620,"wires":[["530d0076.f4c11"]]},{"id":"3db340ac.152ab","type":"change","z":"9bf7fb6e.7aac88","name":"(on|off)","rules":[{"t":"set","p":"payload","pt":"msg","to":"msg.payload ? \"on\" : \"off\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":40,"wires":[["a90dcad9.ddbf48"]]},{"id":"4afd3e37.f5b7a","type":"server-state-changed","z":"9bf7fb6e.7aac88","name":"kueche-motion-sensor","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.0x001788010329dfc5_occupancy","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"}],"x":140,"y":40,"wires":[["3db340ac.152ab"]]},{"id":"e1275ee5.1664d","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"schlafzimmer-dimmer-1","topic":"zigbee2mqtt/schlafzimmer-dimmer-1/action","qos":"2","datatype":"auto","broker":"8932bf10.56a6b","nl":false,"rap":false,"x":300,"y":660,"wires":[["d2b81a0c.fa4bd8"]]},{"id":"b165a93e.5a1288","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"nino-dimmer","topic":"zigbee2mqtt/nino-dimmer/action","qos":"2","datatype":"auto","broker":"8932bf10.56a6b","nl":false,"rap":false,"x":270,"y":980,"wires":[["3206a731.307ad8"]]},{"id":"91d14b5a.a44698","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"noah-dimmer","topic":"zigbee2mqtt/noah-dimmer/action","qos":"2","datatype":"auto","broker":"8932bf10.56a6b","nl":false,"rap":false,"x":270,"y":1280,"wires":[["5fd6ad78.cfd8d4"]]},{"id":"55ad0515.c3953c","type":"mqtt in","z":"9bf7fb6e.7aac88","name":"nino-1","topic":"zigbee2mqtt/nino-1","qos":"2","datatype":"json","broker":"8932bf10.56a6b","nl":false,"rap":false,"x":90,"y":860,"wires":[["1fe1982f.1d8c88"]]},{"id":"1fe1982f.1d8c88","type":"switch","z":"9bf7fb6e.7aac88","name":"OFF?","property":"payload.state","propertyType":"msg","rules":[{"t":"eq","v":"OFF","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":860,"wires":[["8f045b8b.02c2c8"]]},{"id":"8f045b8b.02c2c8","type":"change","z":"9bf7fb6e.7aac88","name":"Reset","rules":[{"t":"set","p":"reset","pt":"msg","to":"-2","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":860,"wires":[["2533e96c.879146"]]},{"id":"2533e96c.879146","type":"counter","z":"9bf7fb6e.7aac88","name":"Counter","init":"-2","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":600,"y":860,"wires":[["1196800e.35f5"]]},{"id":"3206a731.307ad8","type":"switch","z":"9bf7fb6e.7aac88","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"on-press","vt":"str"},{"t":"eq","v":"off-press","vt":"str"},{"t":"regex","v":"(on|off)-hold.*","vt":"str","case":false},{"t":"regex","v":"(up|down)-.*","vt":"str","case":false}],"checkall":"true","repair":false,"outputs":4,"x":530,"y":980,"wires":[["2533e96c.879146","47d2e4be8d5b143d"],["f136dfa5.5c9bc"],["388329b1.0d89b6"],["9e0e68af.d9e668"]]},{"id":"1196800e.35f5","type":"switch","z":"9bf7fb6e.7aac88","name":"ON?","property":"count","propertyType":"msg","rules":[{"t":"gte","v":"-1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":730,"y":860,"wires":[["d94dbcff.a80f4"]]},{"id":"f136dfa5.5c9bc","type":"function","z":"9bf7fb6e.7aac88","name":"off-press","func":"return {payload: {state: \"OFF\", transition: 0.5}};","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":980,"wires":[["f747a560.115d98"]]},{"id":"388329b1.0d89b6","type":"function","z":"9bf7fb6e.7aac88","name":"(on|off)-hold.*","func":"payload = {\n    \"on-hold\": {color_temp_move: 60},\n    \"off-hold\": {color_temp_move: -60},\n    \"on-hold-release\": {color_temp_move: \"stop\"},\n    \"off-hold-release\": {color_temp_move: \"stop\"}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1010,"y":1020,"wires":[["f747a560.115d98"]]},{"id":"9e0e68af.d9e668","type":"function","z":"9bf7fb6e.7aac88","name":"(up|down)-.*","func":"payload = {\n    \"up-press\": {brightness_step: 40, transition: 0.5},\n    \"down-press\": {brightness_step: -40, transition: 0.5},\n    \"up-hold\": {brightness_move: 80},\n    \"down-hold\": {brightness_move: -80},\n    \"up-hold-release\": {brightness_move: 0},\n    \"down-hold-release\": {brightness_move: 0}\n}[msg.payload];\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1010,"y":1060,"wires":[["f747a560.115d98"]]},{"id":"d94dbcff.a80f4","type":"function","z":"9bf7fb6e.7aac88","name":"on-press","func":"const startup_scene = {brightness: 254, color_temp: 370};\nconst additional_scenes = [\n    {brightness: 254, color_temp: 156}, // energize\n    {brightness: 254, color_temp: 346}, // reading\n    {brightness: 77, color_temp: 367} // dimmed\n] || []; // && to exclude, || to include additional scenes\n\nconst scenes = [\n    startup_scene\n    , ...additional_scenes\n];\n\nvar payload = {state: \"ON\", transition: 0.5};\nif (msg.count > -1) {\n    Object.assign(\n        payload,\n        scenes[msg.count % scenes.length] // round robin\n    );\n}\n\nreturn {payload: payload};\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":940,"wires":[["f747a560.115d98"]]},{"id":"f747a560.115d98","type":"mqtt out","z":"9bf7fb6e.7aac88","name":"group-nino","topic":"zigbee2mqtt/group-nino/set","qos":"","retain":"","respTopic":"","contentType":"","userProps":"","correl":"","expiry":"","broker":"8932bf10.56a6b","x":1270,"y":1000,"wires":[]},{"id":"43988701f8ced0ce","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_7_access_control_window_door_is_open","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":820,"wires":[["52fdd7e6.9f26f8"]]},{"id":"6780d3c1ad9d280a","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Fenster offen","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"binary_sensor.door_window_sensor_7_access_control_window_door_is_open_2","entityidfiltertype":"exact","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"windowOpen","propertyType":"msg","value":"","valueType":"entityState"}],"x":330,"y":560,"wires":[["930b0dd4.d787"]]},{"id":"47d2e4be8d5b143d","type":"api-call-service","z":"9bf7fb6e.7aac88","name":"Lichtschalter Nino","server":"a0992e23.0acf8","version":3,"debugenabled":false,"service_domain":"switch","service":"turn_on","entityId":"switch.double_switch_2","data":"","dataType":"jsonata","mergecontext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","x":730,"y":940,"wires":[[]]},{"id":"f6acd4d6f608e575","type":"api-call-service","z":"9bf7fb6e.7aac88","name":"Lichtschalter Schlafzimmer","server":"a0992e23.0acf8","version":3,"debugenabled":false,"service_domain":"switch","service":"turn_on","entityId":"switch.double_switch_2_3","data":"","dataType":"jsonata","mergecontext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","x":760,"y":640,"wires":[[]]},{"id":"c1468a42eea018f0","type":"switch","z":"9bf7fb6e.7aac88","name":"device_id","property":"device_id","propertyType":"msg","rules":[{"t":"eq","v":"71a6e35835e3ac974599dcff07e671ff","vt":"str"}],"checkall":"false","repair":false,"outputs":1,"x":420,"y":460,"wires":[["eaa3f2741baa2c7d"]]},{"id":"8fb984060706025c","type":"server-events","z":"9bf7fb6e.7aac88","name":"","server":"a0992e23.0acf8","version":1,"event_type":"zwave_js_value_notification","exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"waitForRunning":true,"outputProperties":[{"property":"node_id","propertyType":"msg","value":"$outputData(\"eventData\").event.node_id","valueType":"jsonata"},{"property":"device_id","propertyType":"msg","value":"$outputData(\"eventData\").event.device_id","valueType":"jsonata"},{"property":"key","propertyType":"msg","value":"$outputData(\"eventData\").event.property_key","valueType":"jsonata"},{"property":"value","propertyType":"msg","value":"$outputData(\"eventData\").event.value","valueType":"jsonata"}],"x":180,"y":460,"wires":[["c1468a42eea018f0"]]},{"id":"eaa3f2741baa2c7d","type":"function","z":"9bf7fb6e.7aac88","name":"generiere Tastendruck","func":"function status() {\n    var print = (s => (typeof s == \"string\") ? s : \"undefined\");\n    node.status({\"text\": `state: ${print(context.get(\"state\"))}, value: ${print(context.get(\"value\"))}, direction: ${print(context.get(\"direction\"))}, key: ${print(context.get(\"key\"))}`});\n}\n\nfunction setContext(key, value) {\n    context.set(key, value);\n    status();\n}\n\nfunction message (key) {\n    setContext(\"key\", key);\n    return {\"payload\": key};\n}\n\nif (msg.topic == \"state\") {\n    setContext(\"state\", msg.payload);\n    return;\n}\n\nvar state = context.get(\"state\");\nvar direction = context.get(\"direction\");\nvar value = msg.value;\nsetContext(\"value\", value);\nswitch (value) {\n    case \"KeyPressed\":\n        return message((state == \"on\") ? \"off-press\" : \"on-press\");\n    case \"KeyPressed2x\":\n        return message(\"on-press\");\n    case \"KeyHeldDown\":\n        return message(`${direction}-hold`);\n    case \"KeyReleased\":\n        setContext(\"direction\", direction == \"up\" ? \"down\" : \"up\");\n        return message(`${direction}-hold-release`);\n}\n","outputs":1,"noerr":0,"initialize":"function status() {\n    var print = (s => (typeof s == \"string\") ? s : \"undefined\");\n    node.status({\"text\": `state: ${print(context.get(\"state\"))}, value: ${print(context.get(\"value\"))}, direction: ${print(context.get(\"direction\"))}, key: ${print(context.get(\"key\"))}`});\n}\n\ncontext.set(\"state\", undefined);\ncontext.set(\"direction\", \"up\");\ncontext.set(\"value\", undefined);\ncontext.set(\"key\", undefined);\nstatus();","finalize":"","libs":[],"x":500,"y":380,"wires":[["bd62e44c.b67ca8"]]},{"id":"51eb7e5940b20171","type":"server-state-changed","z":"9bf7fb6e.7aac88","name":"","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"light.wohnzimmer","entityidfiltertype":"exact","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"topic","propertyType":"msg","value":"state","valueType":"str"}],"x":180,"y":380,"wires":[["eaa3f2741baa2c7d"]]},{"id":"a90dcad9.ddbf48","type":"api-call-service","z":"9bf7fb6e.7aac88","name":"Küche Oberschrank","server":"a0992e23.0acf8","version":3,"debugenabled":false,"service_domain":"switch","service":"turn_{{payload}}","entityId":"switch.smart_switch_7","data":"","dataType":"jsonata","mergecontext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","x":520,"y":40,"wires":[[]]},{"id":"a342ad08fa1f6a2e","type":"switch","z":"edc1527de2d701a7","name":"device_id","property":"device_id","propertyType":"msg","rules":[{"t":"eq","v":"fae65d4453b055d4ccc2812b13f04e64","vt":"str"}],"checkall":"false","repair":false,"outputs":1,"x":440,"y":160,"wires":[["a9a6637ece92d36e"]]},{"id":"a9a6637ece92d36e","type":"switch","z":"edc1527de2d701a7","name":"key","property":"key","propertyType":"msg","rules":[{"t":"eq","v":"001","vt":"str"},{"t":"eq","v":"002","vt":"str"},{"t":"eq","v":"003","vt":"str"},{"t":"eq","v":"004","vt":"str"}],"checkall":"false","repair":false,"outputs":4,"x":590,"y":160,"wires":[["238233f1068c01ef"],[],["3f735d002d040a41"],[]]},{"id":"238233f1068c01ef","type":"change","z":"edc1527de2d701a7","name":"open_cover","rules":[{"t":"set","p":"key","pt":"msg","to":"open_cover","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":80,"wires":[["a2679d52026938ea"]]},{"id":"3f735d002d040a41","type":"change","z":"edc1527de2d701a7","name":"close_cover","rules":[{"t":"set","p":"key","pt":"msg","to":"close_cover","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":120,"wires":[["a2679d52026938ea"]]},{"id":"a2679d52026938ea","type":"change","z":"edc1527de2d701a7","name":"","rules":[{"t":"set","p":"entity_id","pt":"msg","to":"cover.roller_shutter_3_3","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":990,"y":100,"wires":[["aac3029e35cc9e94"]]},{"id":"aac3029e35cc9e94","type":"function","z":"edc1527de2d701a7","name":"generiere Service Call","func":"function set(state) {\n    context.set(\"state\", state);\n    node.status({\"text\": state ? state : \"undefined\"});\n}\n\nfunction message (service) {\n    return {\n        \"entity_id\": msg.entity_id,\n        \"service\": service\n    };\n}\n\nswitch (msg.value) {\n    case \"KeyReleased\":\n        set(undefined);\n        return message(\"stop_cover\");\n    case \"KeyPressed\":\n        set(undefined);\n        return message(msg.key);\n    case \"KeyHeldDown\":\n        if (context.get(\"state\") == msg.key) {\n            return;\n        }\n        set(msg.key);\n        return message(msg.key);\n}","outputs":1,"noerr":0,"initialize":"function set(state) {\n    context.set(\"state\", state);\n    node.status({\"text\": state ? state : \"undefined\"});\n}\n\nset(undefined);","finalize":"","libs":[],"x":1220,"y":100,"wires":[["e784610812fd1d9a"]]},{"id":"e784610812fd1d9a","type":"api-call-service","z":"edc1527de2d701a7","name":"cover","server":"a0992e23.0acf8","version":3,"debugenabled":false,"service_domain":"cover","service":"{{service}}","entityId":"{{entity_id}}","data":"","dataType":"jsonata","mergecontext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","x":1410,"y":100,"wires":[[]]},{"id":"9846f105a454142c","type":"server-events","z":"edc1527de2d701a7","name":"","server":"a0992e23.0acf8","version":1,"event_type":"zwave_js_value_notification","exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"waitForRunning":true,"outputProperties":[{"property":"node_id","propertyType":"msg","value":"$outputData(\"eventData\").event.node_id","valueType":"jsonata"},{"property":"device_id","propertyType":"msg","value":"$outputData(\"eventData\").event.device_id","valueType":"jsonata"},{"property":"key","propertyType":"msg","value":"$outputData(\"eventData\").event.property_key","valueType":"jsonata"},{"property":"value","propertyType":"msg","value":"$outputData(\"eventData\").event.value","valueType":"jsonata"}],"x":200,"y":160,"wires":[[]]},{"id":"909b220e816bb175","type":"change","z":"edc1527de2d701a7","name":"zigbee2mqtt (ON|OFF)","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\"state\": msg.payload, \"transition\": 0.5}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":200,"y":440,"wires":[["da8a3420dec3738b"]]},{"id":"a5060d3c5c82f696","type":"state-machine","z":"edc1527de2d701a7","name":"State","triggerProperty":"payload","triggerPropertyType":"msg","stateProperty":"payload","statePropertyType":"msg","initialDelay":"0","persistOnReload":false,"outputStateChangeOnly":true,"throwException":false,"states":["OFF","ON"],"transitions":[{"name":"ON","from":"OFF","to":"ON"},{"name":"OFF","from":"ON","to":"OFF"}],"x":370,"y":360,"wires":[["909b220e816bb175"]]},{"id":"da8a3420dec3738b","type":"switch","z":"edc1527de2d701a7","name":"(ON|OFF)?","property":"payload.state","propertyType":"msg","rules":[{"t":"eq","v":"ON","vt":"str"},{"t":"eq","v":"OFF","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":390,"y":440,"wires":[["348b8756a6ee00b0"],[]]},{"id":"164b2b907b2f81b1","type":"change","z":"edc1527de2d701a7","name":"(ON|OFF)","rules":[{"t":"set","p":"payload","pt":"msg","to":"msg.payload.occupancy ? \"ON\" : \"OFF\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":240,"y":360,"wires":[["a5060d3c5c82f696"]]},{"id":"348b8756a6ee00b0","type":"time-range-switch","z":"edc1527de2d701a7","name":"Sleeptime?","lat":"50.1333","lon":"8.71005","startTime":"23:00","endTime":"06:30","startOffset":0,"endOffset":0,"x":590,"y":400,"wires":[["1b8ba2cdcdc6b457"],["3531a2f9ee08cf01"]]},{"id":"1b8ba2cdcdc6b457","type":"change","z":"edc1527de2d701a7","name":"Nightlight","rules":[{"t":"set","p":"payload.brightness","pt":"msg","to":"2","tot":"num"},{"t":"set","p":"payload.color_temp","pt":"msg","to":"447","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":744,"y":380,"wires":[[]]},{"id":"3531a2f9ee08cf01","type":"change","z":"edc1527de2d701a7","name":"Standard","rules":[{"t":"set","p":"payload.brightness","pt":"msg","to":"254","tot":"num"},{"t":"set","p":"payload.color_temp","pt":"msg","to":"370","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":744,"y":420,"wires":[[]]},{"id":"7f9b8a323f3153a5","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Markise","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"cover.roller_shutter_3_15","entityidfiltertype":"exact","outputinitially":true,"state_type":"str","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":true,"for":0,"forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"marquee","propertyType":"msg","value":"","valueType":"entityState"}],"x":350,"y":1600,"wires":[["8a0c6daa.f80d2","7a8ae7b.f6d2418"]]},{"id":"2026eab33d7fe119","type":"server-state-changed","z":"79ddab3e.2ca0c4","name":"Schalter Lichtkuppel","server":"a0992e23.0acf8","version":3,"exposeToHomeAssistant":false,"haConfig":[{"property":"name","value":""},{"property":"icon","value":""}],"entityidfilter":"^switch.double_relay_switch_2x1_5kw.*$","entityidfiltertype":"regex","outputinitially":true,"state_type":"habool","haltifstate":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"output_only_on_state_change":false,"for":"","forType":"num","forUnits":"seconds","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[{"property":"topic","propertyType":"msg","value":"","valueType":"triggerId"},{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"}],"x":310,"y":1960,"wires":[["cfb30e29a989c3ad"]]},{"id":"e6b349930ac4c39e","type":"api-call-service","z":"79ddab3e.2ca0c4","name":"ausschalten","server":"a0992e23.0acf8","version":3,"debugenabled":false,"service_domain":"switch","service":"turn_off","entityId":"{{topic}}","data":"","dataType":"jsonata","mergecontext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","x":770,"y":1960,"wires":[[]]},{"id":"cfb30e29a989c3ad","type":"trigger","z":"79ddab3e.2ca0c4","name":"warte 45s","op1":"","op2":"","op1type":"nul","op2type":"payl","duration":"45","extend":true,"overrideDelay":false,"units":"s","reset":"false","bytopic":"topic","topic":"topic","outputs":1,"x":580,"y":1960,"wires":[["e6b349930ac4c39e"]]}]